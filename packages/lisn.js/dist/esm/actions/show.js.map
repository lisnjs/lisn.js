{"version":3,"file":"show.js","names":["MC","showElement","hideElement","toggleShowElement","disableInitialTransition","registerAction","Show","register","element","constructor","_defineProperty","_show","_hide","_toggle","getMethods","do","undo","S_TOGGLE","Hide"],"sources":["../../../src/ts/actions/show.ts"],"sourcesContent":["/**\n * @module Actions\n */\n\nimport * as MC from \"@lisn/globals/minification-constants\";\n\nimport {\n  showElement,\n  hideElement,\n  toggleShowElement,\n  disableInitialTransition,\n} from \"@lisn/utils/css-alter\";\n\nimport { Action, registerAction } from \"@lisn/actions/action\";\n\n/**\n * Shows or hides the given element with a smooth fading transition.\n *\n * **IMPORTANT:** When constructed, it will hide the element as a form of\n * initialization.\n *\n * -------\n *\n * To use with auto-widgets (HTML API) as part of a trigger specification:\n * - Action name: \"show\".\n * - Accepted string arguments: none\n * - Accepted options: none\n *\n * @example\n * ```html\n * <button id=\"btn\">Show/hide</button>\n * <div data-lisn-on-click=\"@show +target=#btn\"></div>\n * ```\n *\n * @category Showing/hiding elements\n */\nexport class Show implements Action {\n  /**\n   * Shows the element with a smooth fade in transition.\n   */\n  readonly do: () => Promise<void>;\n\n  /**\n   * Hides the element with a smooth fade out transition.\n   */\n  readonly undo: () => Promise<void>;\n\n  /**\n   * Shows the element if it is hidden, hides it otherwise.\n   */\n  readonly toggle: () => Promise<void>;\n\n  static register() {\n    registerAction(\"show\", (element) => new Show(element));\n  }\n\n  constructor(element: Element) {\n    disableInitialTransition(element);\n    hideElement(element); // initial state\n\n    const { _show, _hide, _toggle } = getMethods(element);\n    this.do = _show;\n    this.undo = _hide;\n    this[MC.S_TOGGLE] = _toggle;\n  }\n}\n\n/**\n * Hides or shows the given element with a smooth fading transition.\n *\n * **IMPORTANT:** When constructed, it will remove any `lisn-hide` class from\n * the element as a form of initialization.\n *\n * -------\n *\n * To use with auto-widgets (HTML API) as part of a trigger specification:\n * - Action name: \"hide\".\n * - Accepted string arguments: none\n * - Accepted options: none\n *\n * @example\n * ```html\n * <button id=\"btn\">Show/hide</button>\n * <div data-lisn-on-click=\"@hide +target=#btn\"></div>\n * ```\n *\n * @category Showing/hiding elements\n */\nexport class Hide implements Action {\n  /**\n   * Hides the element with a smooth fade out transition.\n   */\n  readonly do: () => Promise<void>;\n\n  /**\n   * Shows the element with a smooth fade in transition.\n   */\n  readonly undo: () => Promise<void>;\n\n  /**\n   * Shows the element if it is hidden, hides it otherwise.\n   */\n  readonly toggle: () => Promise<void>;\n\n  static register() {\n    registerAction(\"hide\", (element) => new Hide(element));\n  }\n\n  constructor(element: Element) {\n    disableInitialTransition(element);\n    showElement(element); // initial state\n\n    const { _show, _hide, _toggle } = getMethods(element);\n    this.do = _hide;\n    this.undo = _show;\n    this[MC.S_TOGGLE] = _toggle;\n  }\n}\n\n// --------------------\n\nconst getMethods = (element: Element) => {\n  return {\n    _show: async () => {\n      await showElement(element); // ignore return val\n    },\n\n    _hide: async () => {\n      await hideElement(element); // ignore return val\n    },\n\n    _toggle: async () => {\n      await toggleShowElement(element); // ignore return val\n    },\n  };\n};\n"],"mappings":";;;AAAA;AACA;AACA;;AAEA,OAAO,KAAKA,EAAE;AAEd,SACEC,WAAW,EACXC,WAAW,EACXC,iBAAiB,EACjBC,wBAAwB;AAG1B,SAAiBC,cAAc;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,IAAI,CAAmB;EAgBlC,OAAOC,QAAQA,CAAA,EAAG;IAChBF,cAAc,CAAC,MAAM,EAAGG,OAAO,IAAK,IAAIF,IAAI,CAACE,OAAO,CAAC,CAAC;EACxD;EAEAC,WAAWA,CAACD,OAAgB,EAAE;IAnB9B;AACF;AACA;IAFEE,eAAA;IAKA;AACF;AACA;IAFEA,eAAA;IAKA;AACF;AACA;IAFEA,eAAA;IAUEN,wBAAwB,CAACI,OAAO,CAAC;IACjCN,WAAW,CAACM,OAAO,CAAC,CAAC,CAAC;;IAEtB,MAAM;MAAEG,KAAK;MAAEC,KAAK;MAAEC;IAAQ,CAAC,GAAGC,UAAU,CAACN,OAAO,CAAC;IACrD,IAAI,CAACO,EAAE,GAAGJ,KAAK;IACf,IAAI,CAACK,IAAI,GAAGJ,KAAK;IACjB,IAAI,CAACZ,EAAE,CAACiB,QAAQ,CAAC,GAAGJ,OAAO;EAC7B;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMK,IAAI,CAAmB;EAgBlC,OAAOX,QAAQA,CAAA,EAAG;IAChBF,cAAc,CAAC,MAAM,EAAGG,OAAO,IAAK,IAAIU,IAAI,CAACV,OAAO,CAAC,CAAC;EACxD;EAEAC,WAAWA,CAACD,OAAgB,EAAE;IAnB9B;AACF;AACA;IAFEE,eAAA;IAKA;AACF;AACA;IAFEA,eAAA;IAKA;AACF;AACA;IAFEA,eAAA;IAUEN,wBAAwB,CAACI,OAAO,CAAC;IACjCP,WAAW,CAACO,OAAO,CAAC,CAAC,CAAC;;IAEtB,MAAM;MAAEG,KAAK;MAAEC,KAAK;MAAEC;IAAQ,CAAC,GAAGC,UAAU,CAACN,OAAO,CAAC;IACrD,IAAI,CAACO,EAAE,GAAGH,KAAK;IACf,IAAI,CAACI,IAAI,GAAGL,KAAK;IACjB,IAAI,CAACX,EAAE,CAACiB,QAAQ,CAAC,GAAGJ,OAAO;EAC7B;AACF;;AAEA;;AAEA,MAAMC,UAAU,GAAIN,OAAgB,IAAK;EACvC,OAAO;IACLG,KAAK,EAAE,MAAAA,CAAA,KAAY;MACjB,MAAMV,WAAW,CAACO,OAAO,CAAC,CAAC,CAAC;IAC9B,CAAC;IAEDI,KAAK,EAAE,MAAAA,CAAA,KAAY;MACjB,MAAMV,WAAW,CAACM,OAAO,CAAC,CAAC,CAAC;IAC9B,CAAC;IAEDK,OAAO,EAAE,MAAAA,CAAA,KAAY;MACnB,MAAMV,iBAAiB,CAACK,OAAO,CAAC,CAAC,CAAC;IACpC;EACF,CAAC;AACH,CAAC","ignoreList":[]}