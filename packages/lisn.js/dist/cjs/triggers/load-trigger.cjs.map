{"version":3,"file":"load-trigger.cjs","names":["MH","_interopRequireWildcard","require","_domEvents","_trigger","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","o","Symbol","iterator","constructor","prototype","_classCallCheck","TypeError","_defineProperties","length","enumerable","configurable","writable","_toPropertyKey","key","_createClass","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","value","_setPrototypeOf","_defineProperty","_toPrimitive","toPrimitive","String","Number","LoadTrigger","exports","_Trigger","element","actions","config","_this","getConfig","copyObject","lengthOf","waitForPageReady","then","run","register","registerTrigger","args","Trigger"],"sources":["../../../src/ts/triggers/load-trigger.ts"],"sourcesContent":["/**\n * @module Triggers\n *\n * @categoryDescription Load\n * {@link LoadTrigger} allows you to run actions once when the page is loaded.\n */\n\nimport * as MH from \"@lisn/globals/minification-helpers\";\n\nimport { waitForPageReady } from \"@lisn/utils/dom-events\";\n\nimport { Action } from \"@lisn/actions/action\";\n\nimport {\n  registerTrigger,\n  Trigger,\n  TriggerConfig,\n} from \"@lisn/triggers/trigger\";\n\n/**\n * {@link LoadTrigger} allows you to run actions one when the page is loaded.\n *\n * -------\n *\n * To use with auto-widgets (HTML API), see {@link registerTrigger} for the\n * specification.\n *\n * - Arguments: none\n * - Additional trigger options: none\n *\n * @example\n * Scroll to the given element when the page is loaded:\n *\n * ```html\n * <div data-lisn-on-load=\":scroll-to\"></div>\n * ```\n *\n * @example\n * Scroll to 100px above the given element 500ms after the page is loaded:\n *\n * ```html\n * <div data-lisn-on-load=\"@scroll-to=0,-100 +delay=500\"></div>\n * ```\n *\n * @example\n * Scroll to 100px above the given element 500ms after the page is loaded, and\n * play animations defined on it 500ms later (1000ms after it's loaded):\n *\n * ```html\n * <div data-lisn-on-load=\"@scroll-to=0,-100 +delay=500 ;\n *                         @animate +delay=1000\"\n * ></div>\n * ```\n *\n * @category Load\n */\nexport class LoadTrigger extends Trigger {\n  readonly getConfig: () => TriggerConfig;\n\n  static register() {\n    registerTrigger(\n      \"load\",\n      (element, args, actions, config) =>\n        new LoadTrigger(element, actions, config),\n    );\n  }\n\n  /**\n   * If no actions are supplied, nothing is done.\n   *\n   * @throws {@link Errors.LisnUsageError | LisnUsageError}\n   *                If the config is invalid.\n   */\n  constructor(element: Element, actions: Action[], config: TriggerConfig) {\n    super(element, actions, config);\n    this.getConfig = () => MH.copyObject(config);\n\n    if (!MH.lengthOf(actions)) {\n      return;\n    }\n\n    waitForPageReady().then(this.run);\n  }\n}\n"],"mappings":"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","ignoreList":[]}