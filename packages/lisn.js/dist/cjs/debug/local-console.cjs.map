{"version":3,"file":"local-console.cjs","names":["MC","_interopRequireWildcard","require","MH","_text","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","LocalConsole","constructor","debug","isiOS","iOSlog","isJest","jestLog","consoleDebug","log","consoleLog","info","consoleInfo","warn","consoleWarn","error","consoleError","exports","includes","USER_AGENT","args","joinAsString"],"sources":["../../../src/ts/debug/local-console.ts"],"sourcesContent":["/**\n * @module Debugging\n */\n\nimport * as MC from \"@lisn/globals/minification-constants\";\nimport * as MH from \"@lisn/globals/minification-helpers\";\n\nimport { LogFunction } from \"@lisn/globals/types\";\n\nimport { joinAsString } from \"@lisn/utils/text\";\n\nimport { LevelName, ConsoleInterface } from \"@lisn/debug/types\";\n\n/**\n * Logs to the local browser console. On iOS devices it uses `console.info` for\n * all levels because of a bug in WebKit whereby other log levels don't show in\n * some remote debuggers. Also, iOS console only supports a single argument, so\n * it joins the given arguments as a single string.\n *\n * @category Logging\n */\nexport class LocalConsole implements ConsoleInterface {\n  readonly debug: LogFunction;\n  readonly log: LogFunction;\n  readonly info: LogFunction;\n  readonly warn: LogFunction;\n  readonly error: LogFunction;\n\n  constructor() {\n    this.debug = isiOS ? iOSlog : isJest ? jestLog.debug : MH.consoleDebug;\n    this.log = isiOS ? iOSlog : isJest ? jestLog.log : MH.consoleLog;\n    this.info = isiOS ? iOSlog : isJest ? jestLog.info : MH.consoleInfo;\n    this.warn = isiOS ? iOSlog : isJest ? jestLog.warn : MH.consoleWarn;\n    this.error = isiOS ? iOSlog : isJest ? jestLog.error : MH.consoleError;\n  }\n}\n\n// ------------------------------\n\nconst isiOS = MH.includes(MC.USER_AGENT, \"iPhone OS\") || false;\nconst iOSlog: LogFunction = (...args) =>\n  MH.consoleInfo(joinAsString(\" \", ...args));\n\nconst isJest = MH.includes(MC.USER_AGENT, \" jsdom/\") || false;\nconst jestLog: Record<LevelName, LogFunction> = {\n  debug: (...args) => MH.consoleDebug(joinAsString(\" \", ...args)),\n  log: (...args) => MH.consoleLog(joinAsString(\" \", ...args)),\n  info: (...args) => MH.consoleInfo(joinAsString(\" \", ...args)),\n  warn: (...args) => MH.consoleWarn(joinAsString(\" \", ...args)),\n  error: (...args) => MH.consoleError(joinAsString(\" \", ...args)),\n};\n"],"mappings":"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","ignoreList":[]}