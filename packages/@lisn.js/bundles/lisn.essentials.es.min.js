/*!
 * LISN.js v1.2.0
 * (c) 2025 @AaylaSecura
 * Released under the MIT License.
 */
let s="lisn",t="[LISN.js]",r=Object,l=Symbol,a=Array,i=String,o=Function,n=Math,u=Number,c=Promise,d=n.PI,b=Infinity,j="absolute",A="fixed",f="width",h="height",y="top",Y="bottom",Z="up",q="down",k="left",w="right",G="at",V="above",K="below",J="in",Q="out",M="none",ee="ambiguous",te="added",re="removed",le="attribute",ne="key",ae="mouse",S="pointer",E="touch",ie="wheel",W="click",oe="hover",ue="press",D="scroll",se="zoom",ve="drag",ce="unknown",x=D+"Top",T=D+"Left",de=D+"Width",fe=D+"Height",he="clientWidth",we="clientHeight",pe=D+"TopFraction",_e=D+"LeftFraction",be="debounceWindow",me="key"+q,ge=""+ae+Z,ye=""+ae+q,ke=""+S+Z,xe=""+S+q,Te=S+"move",Me=S+"cancel",Se=E+"start",Ee=(E,E+"move"),We=E+"cancel",De="selectstart",Oe="attributes",Le="childList",Ne="auto",He="visible",Pe=s+"-wrapper",$e=Pe+"-inline",Ie=s+"-no-select",Re=s+"-no-touch-action",Be=s+"-no-wrap";class Fe extends Error{}class ze extends Fe{constructor(e=""){super(t+" Incorrect usage: "+e),this.name="LisnUsageError"}}class Ue extends Fe{constructor(e=""){super(t+" Please report a bug: "+e),this.name="LisnBugError"}}let Xe="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Ce=e=>e.replace(/[A-Z][a-z]/g,e=>"-"+Ze(e)).replace(/[A-Z]+/,e=>"-"+Ze(e)),je=e=>s+"-"+e,Ae=e=>{return t="js--"+e,"--"+je(t);var t},Ye=e=>"data-"+Ce(e),Ze=e=>e.toLowerCase(),qe=(Date.now.bind(Date),()=>"undefined"!=typeof document),Ge=()=>window,O=()=>document,Ve=()=>O().documentElement,Ke=()=>O().scrollingElement,m=()=>O().body,Je=()=>O().readyState,Qe=e=>{return ct(e)?e.pointerType:(t=e,$(t,MouseEvent)?"mouse":null);var t},et=e=>requestAnimationFrame(e),tt=(e,t)=>O().createElement(e,t),rt=e=>null==e,v=e=>rt(e)||""===e,lt=e=>it(e)&&l.iterator in e,nt=e=>$(e,a),at=e=>$(e,r),it=e=>null!==e&&"object"===Kt(e),ot=e=>"number"===Kt(e),ut=e=>"string"===Kt(e)||$(e,i),st=e=>"string"===Kt(e),vt=e=>"function"===Kt(e)||$(e,o),ct=e=>"undefined"!=typeof PointerEvent&&$(e,PointerEvent),dt=e=>"undefined"!=typeof TouchEvent&&$(e,TouchEvent),L=e=>$(e,Element),ft=e=>$(e,HTMLElement),ht=(e,t,r)=>e.replace(t,r),wt=Xe.setTimeout.bind(Xe),pt=Xe.clearTimeout.bind(Xe),_t=e=>e.getBoundingClientRect(),bt=e=>({x:e.x,left:e.left,right:e.right,[f]:e[f],y:e.y,top:e.top,bottom:e.bottom,[h]:e[h]}),mt=(e,t)=>e.querySelector(t),gt=(e,t)=>e.querySelectorAll(t),yt=e=>mt(O(),e),kt=(e,t)=>e.getAttribute(t),xt=(e,t,r="true")=>e.setAttribute(t,r),N=(e,t,r)=>0<=e.indexOf(t,r),Tt=(e,t)=>e.some(t),Mt=(e,t)=>e.filter(t),St=e=>{var t=e?Mt(e,e=>!v(e)):void 0;return H(t)?t:void 0},Et=e=>{var t;return null!=(t=null==e?void 0:e.size)?t:0},H=e=>{var t;return null!=(t=null==e?void 0:e.length)?t:0},Wt=e=>e.tagName,Dt=(e,t)=>Ze(Wt(e))===Ze(t),Ot=e=>e.preventDefault(),Lt=a.from.bind(a),Nt=e=>r.keys(e),Ht=r.defineProperty.bind(r),Pt=(...e)=>r.assign({},...e),P=e=>Pt(e),$t=(c.resolve.bind(c),c.all.bind(c)),It=r.assign.bind(r),Rt=(r.freeze.bind(r),(e,t)=>r.prototype.hasOwnProperty.call(e,t)),Bt=r.preventExtensions.bind(r),Ft=JSON.stringify.bind(JSON),zt=n.floor.bind(n),Ut=n.ceil.bind(n),Xt=n.log2.bind(n),Ct=n.sqrt.bind(n),jt=n.max.bind(n),At=n.min.bind(n),p=n.abs.bind(n),Yt=n.round.bind(n),Zt=n.pow.bind(n),qt=n.exp.bind(n),Gt=u.parseFloat.bind(u),$=(u.isNaN.bind(u),(e,t)=>e instanceof t),Vt=e=>e.constructor,Kt=e=>typeof e,Jt=e=>{var t;return at(e)?null==(t=Vt(e))?void 0:t.name:Kt(e)},g=e=>{var t;return null!=(t=null==e?void 0:e.parentElement)?t:null},Qt=e=>(null==e?void 0:e.children)||[],er=e=>null==e?void 0:e.target,tr=e=>null==e?void 0:e.classList,rr="tabindex",I=e=>null==e?void 0:e.remove(),R=(e,t)=>null==e?void 0:e.delete(t),lr=(e,t,r="instant")=>e.scrollTo(Pt({behavior:r},t)),B=e=>new Promise(e),F=e=>new Map(e),nr=e=>new WeakMap(e),ar=e=>new Set(e),ir=e=>new WeakSet(e),or=(e,t)=>new IntersectionObserver(e,t),ur=e=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(e),sr=e=>new MutationObserver(e),z=e=>new ze(e),vr=e=>new Ue(e),cr=e=>z(`Illegal constructor. Use ${e}.`),e=console,dr=(e.debug.bind(e),e.log.bind(e),e.info.bind(e),e.warn.bind(e)),fr=e.error.bind(e),U=Bt({mainScrollableElementSelector:null,contentWrappingAllowed:!0,pageLoadTimeout:2e3,autoWidgets:!1,scrollbarHideNative:!0,scrollbarOnMobile:!1,scrollbarPositionH:"bottom",scrollbarPositionV:"right",scrollbarAutoHide:-1,scrollbarClickScroll:!0,scrollbarDragScroll:!0,scrollbarUseHandle:!1,sameHeightDiffTolerance:15,sameHeightResizeThreshold:5,sameHeightDebounceWindow:100,sameHeightMinGap:30,sameHeightMaxFreeR:.4,sameHeightMaxWidthR:1.7,deviceBreakpoints:{mobile:0,"mobile-wide":576,tablet:768,desktop:992},aspectRatioBreakpoints:{"very-tall":0,tall:9/16,square:.75,wide:4/3,"very-wide":16/9},lightThemeClassName:"light-theme",darkThemeClassName:"dark-theme",deltaLineHeight:40,deltaPageWidth:1600,deltaPageHeight:800,verbosityLevel:0,remoteLoggerURL:null,remoteLoggerOnMobileOnly:!1}),hr=(e,t=0)=>{var r=Zt(10,t);return Yt(e*r)/r},wr=e=>ot(e)&&u.isFinite(e),pr=(e,t=0)=>{var r=st(e)?Gt(e):e;return wr(r)&&r==e?r:t},_=(e,t=0)=>{var r=pr(e,null);return null!==r&&0<=r?r:t},_r=(e,t,r)=>{var l=pr(e,null),n=null!=(n=null==t?void 0:t.min)?n:null,a=null!=(a=null==t?void 0:t.max)?a:null;return wr(l)?null!==n&&l<n?n:null!==a&&a<l?a:l:null!=(l=null!=n?n:a)?l:0},br=(...e)=>jt(...e.map(e=>p(e))),mr=(...e)=>H(e)?e.sort((e,t)=>p(t)-p(e))[0]:-b,gr=(e,t)=>yr(n.atan2(t,e)),yr=e=>{for(;e<0||e>2*d;)e+=(e<0?1:-1)*d*2;return e>d?e-2*d:e},kr=e=>e*d/180,xr=(e,t,r=0)=>{var l=gr(e[0],e[1]),n=gr(t[0],t[1]);return r=At(89.99,p(r)),p(yr(l-n))<=kr(r)},Tr=(e,t)=>Ct(Zt(e[0]-t[0],2)+Zt(e[1]-t[1],2)),Mr=(r,e=!1)=>e?Nt(r).sort((e,t)=>r[t]-r[e]):Nt(r).sort((e,t)=>r[e]-r[t]),Sr=(e,t)=>t<e?Sr(t,e):-1>>>32-t-1+e<<e,Er=(e,t)=>{for(var r in t)Rt(t,r)&&r in e&&(it(e[r])&&it(t[r])?Er(e[r],t[r]):t[r]=e[r])},Wr=(e,t)=>{let r={},l;for(l in e)l in t||(r[l]=e[l]);return r},Dr=(e,t,r=3)=>{for(var l in e)if(Rt(e,l)){var n=e[l],l=t[l];if(it(n)&&it(l)){if(!Dr(n,l))return!1}else if(ot(n)&&ot(l)){if(hr(n,r)!==hr(l,r))return!1}else if(n!==l)return!1}return!0},Or=(e,t)=>Rr(e,!1),Lr=(e,...t)=>t.map(e=>Or(e)).join(e),Nr=(r,l,t,e)=>{if(!r.trim())return[];null==e&&(e=-1);let n=[];for(var a,i,o=e=>n.push(t?e.trim():e);e--;){let e=-1,t;if(t=st(l)?(e=r.indexOf(l),H(l)):(i=l.exec(r),e=null!=(a=null==i?void 0:i.index)?a:-1,i?H(i[0]):0),e<0)break;o(r.slice(0,e)),r=r.slice(e+t)}return o(r),n},Hr=Ce,Pr=e=>Ft($r(e)),$r=t=>(nt(t)?t:Nt(t).sort().map(e=>t[e])).map(e=>nt(e)||it(e)&&Vt(e)===r?$r(e):e),Ir=(e,t)=>e?Rr(t,!0):t,Rr=(e,t)=>{var r;return L(e)?(r=tr(e).toString().trim(),e.id?"#"+e.id:`<${Wt(e)}${r?' class="'+r+'"':""}>`):$(e,Error)?"stack"in e&&ut(e.stack)?e.stack:"Error: "+e.message:nt(e)?"["+e.map(e=>ut(e)?Ft(e):Rr(e,!1)).join(",")+"]":lt(e)?Jt(e)+"("+Rr(Lt(e),!1)+")":it(e)?t?e:Ft(e,Ir):t?e:i(e)},Br=(t,e,r)=>{var l;return St(null==(l=Fr(e))?void 0:l.map(e=>zr(t,e,r,"a string or a string array")))},Fr=e=>{var t;return(t=nt(e)?e:lt(e)?Lt(e):st(e)?Nr(e,","):rt(e)?null:[e])?St(t.map(e=>st(e)?e.trim():e)):void 0},zr=(e,t,r,l)=>{if(!rt(t)){if(!st(t))throw z(`'${e}' must be `+l);if(r&&!r(t))throw z(`Invalid value for '${e}'`);return t}};class Ur{constructor(){let t=jr();this.create=(...e)=>Ar(t,e),Ht(this,"nBits",{get:()=>t.t}),Ht(this,"bitmask",{get:()=>t.i})}}let Xr=()=>new Ur,Cr=(e,...t)=>e.create(...t),jr=()=>({t:0,i:0}),Ar=(e,r)=>{let n=e.t,a=n+H(r)-1;if(31<=a)throw z("BitSpaces overflow");var t,l=Sr(n,a);let i={bit:{},start:n,end:a,bitmask:l,has:e=>ut(e)&&e in i.bit&&ot(i.bit[e]),bitmaskFor:(e,t)=>{var r,l;return!v(e)&&!i.has(e)||!v(t)&&!i.has(t)?0:(r=v(e)?n:Xt(i.bit[e]),l=v(t)?a:Xt(i.bit[t]),Sr(r,l))},nameOf:e=>{var t;return null!=(t=r[Xt(e)-n])?t:null}};for(t of r)Ht(i.bit,t,{value:1<<e.t++,enumerable:!0});return e.i|=l,i},Yr=Cr(Xr(),te,re,le);function Zr(e){function r(e){var t;return Object(e)!==e?Promise.reject(new TypeError(e+" is not an object.")):(t=e.done,Promise.resolve(e.value).then(function(e){return{value:e,done:t}}))}return(Zr=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new Zr(e)}function qr(e,t,r){var l;(t="symbol"==typeof(l=(e=>{if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t))?l:l+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Gr(n){var a,i;function o(e,t){try{var r=n[e](t),l=r.value;Promise.resolve(l).then(function(e){u(r.done?"return":"normal",e)},function(e){o("throw",e)})}catch(e){u("throw",e)}}function u(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}(a=a.next)?o(a.key,a.arg):i=null}this.o=function(l,n){return new Promise(function(e,t){var r={key:l,arg:n,resolve:e,reject:t,next:null};i?i=i.next=r:(a=i=r,o(l,n))})},"function"!=typeof n.return&&(this.return=void 0)}Gr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Gr.prototype.next=function(e){return this.o("next",e)},Gr.prototype.throw=function(e){return this.o("throw",e)},Gr.prototype.return=function(e){return this.o("return",e)};let Vr=t=>{if("undefined"!=typeof scheduler)scheduler.postTask(t,{priority:"user-blocking"});else{let e=new MessageChannel;e.port1.onmessage=()=>{e.port1.close(),t()},e.port2.postMessage("")}},Kr=(t,r)=>{if(!t)return r;let l=null,n;return(...e)=>{n=e,null===l&&(l=wt(async()=>{await r(...n),l=null},t))}},X=(t,e=0)=>{let r=vt(t),l=()=>!1;if(r){var n=Qr.get(t);if(n)return X(n)}else l=t.isRemoved;let a=r?t:(...e)=>t.invoke(...e),i=new Jr(Kr(e,(...e)=>{if(!l())return a(...e)}));return r||t.onRemove(i.remove),i};class Jr{constructor(n){let a=!1,i=l(),t=ar();this.isRemoved=()=>a,this.remove=()=>{if(!a){a=!0;for(var e of t)e();el.u(i)}},this.onRemove=e=>t.add(e),this.invoke=(...l)=>B((t,r)=>{a?r(z("Callback has been removed")):el.h(i,async()=>{let e;try{e=await n(...l)}catch(e){r(e)}e===Jr.REMOVE&&this.remove(),t()},r)}),Qr.set(this.invoke,this)}}qr(Jr,"KEEP",l("KEEP")),qr(Jr,"REMOVE",l("REMOVE")),qr(Jr,"wrap",X);let Qr=nr(),el=(()=>{let n=F();return{u:e=>{var t,r=n.get(e);if(r){for(;t=r.shift();)t.p||t._(Jr.REMOVE);R(n,e)}},h:(e,t,r)=>{let l=n.get(e);l||(l=[],n.set(e,l)),l.push({m:t,_:r,p:!1}),1===H(l)&&(async e=>{for(await 0;H(e);)e[0].p=!0,await e[0].m(),e.shift()})(l)}}})(),tl=(...e)=>{ll(e)||dr(t,...e)},C=(...e)=>{(1<H(e)||e[0]!==Jr.REMOVE)&&!ll(e)&&fr(t,...e)},rl=ar(),ll=e=>{var t=Lr(" ",...e),r=rl.has(t);return rl.add(t),r},nl=()=>B(e=>{vl(ul,e)}),al=()=>B(e=>{vl(ol,e)}),il=t=>async(...e)=>nl().then(()=>t(...e)),ol=[],ul=[],sl=!1,vl=(e,t)=>{e.push(t),sl||(sl=!0,et(cl))},cl=async()=>{for(;H(ul);)await!dl(ul);Vr(async()=>{for(;H(ol);)await!dl(ol);H(ul)?et(cl):sl=!1})},dl=e=>{for(var t;t=e.shift();)try{t()}catch(e){C(e)}},fl=e=>hl.has(e.toLowerCase()),hl=ar(["a","abbr","acronym","b","bdi","bdo","big","button","cite","code","data","dfn","em","i","img","input","kbd","label","mark","map","object","output","q","rp","rt","ruby","s","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","u","var"]),wl=(e,t)=>tr(e).contains(t),pl=(t,...e)=>Tt(e,e=>wl(t,e)),_l=(e,...t)=>tr(e).add(...t),bl=il(_l),ml=il((e,...t)=>tr(e).remove(...t)),gl=(e,t)=>kt(e,Ye(t)),yl=(e,t)=>getComputedStyle(e).getPropertyValue(t),kl=(e,t,r)=>{var l;return null==(l=e.style)?void 0:l.setProperty(t,r)},xl=il((a,i,o={})=>{var e=a;if(ft(e)||$(e,SVGElement)||"undefined"!=typeof MathMLElement&&$(e,MathMLElement)){var u,s,v=Ae(null!=(e=null==o?void 0:o.g)?e:"");for(u in i){let e,t,r=""+v+Hr(u),l,n;null===(l=wr(i[u])?(l=i[u],t=null!=(e=null==o?void 0:o.k)?e:0<l&&l<1?2:0,hr(l,t)):null)?(s=void 0,null!=(s=a.style)&&s.removeProperty(r)):kl(a,r,l+(null!=(n=null==o?void 0:o._units)?n:""))}}}),Tl=(nr(),(e,t)=>{var r=Pl(e,null==t?void 0:t.wrapper);return!0===(null==t?void 0:t.ignoreMove)&&(Nl(e,{from:g(e),to:r}),Nl(r,{to:g(e)})),e.replaceWith(r),r.append(e),r}),Ml=(e,t)=>{var r=Pl(e,null==t?void 0:t.wrapper),l=(null!=t?t:{}).ignoreMove;return Sl(e,r,{ignoreMove:l}),El(r,{to:e,ignoreMove:l}),r},Sl=(e,t,r)=>{if(!0===(null==r?void 0:r.ignoreMove))for(var l of Qt(e))Nl(l,{from:e,to:t});t.append(...Qt(e))},El=(e,t)=>{let r,l=null!=(r=null==t?void 0:t.to)?r:null,n=(null==t?void 0:t.position)||"append";"before"!==n&&"after"!==n||(l=g(null==t?void 0:t.to)),!0===(null==t?void 0:t.ignoreMove)&&Nl(e,{from:g(e),to:l}),null!=t&&t.to?t.to[n](e):I(e)},Wl=il(El),Dl=(e,t)=>{var{T:r,M:l=[Pe]}=null!=t?t:{},n=g(e);return 1!==H(Qt(n))||!ft(n)||r&&!Dt(n,r)||l&&!pl(n,...l)?null:n},Ol=(e,t)=>{var{T:r,M:l=[Pe]}=null!=t?t:{},n=Qt(e)[0];return 1!==H(Qt(e))||!ft(n)||r&&!Dt(n,r)||l&&!pl(n,...l)?null:n},Ll=il((e,t)=>$l(e,t,!0)),Nl=(e,t)=>{var r;return Hl.set(e,{from:null!=(r=t.from)?r:null,to:null!=(r=t.to)?r:null})},Hl=F(),Pl=(e,t)=>{var r;return L(t)?t:(r=t||(fl(Wt(e))?"span":"div"),tt(r))},$l=(e,t,r=!1)=>{let l,{T:n,M:a=[Pe],S:i=!0,W:o=!1,D:u=""}=null!=t?t:{},s=r?Ol:Dl,v=r?Ml:Tl,c=(l=e,!0===U.contentWrappingAllowed&&null===gl(l,Be)),d=s(e,t);return d||!o&&!c||(d=v(e,{wrapper:n,ignoreMove:i}),a&&_l(d,...a),fl(Wt(d))&&_l(d,$e),!c&&u&&tl("content wrapping is disabled for element but wrapping is required by "+u)),d},Il=(l,n)=>B(t=>{let e=()=>{var e=l();return!rt(e)&&(t(e),!0)};if(e())return;rt(n)||wt(()=>{t(null),r.disconnect()},n);let r=sr(()=>{e()&&r.disconnect()});r.observe(Ve(),{childList:!0,subtree:!0})}),Rl=()=>B(e=>{var t=Je();"interactive"===t||t===Bl?e():O().addEventListener("DOMContentLoaded",()=>e())}),Bl="complete",Fl=!1,zl=(qe()?B(r=>{if(!Fl)return Rl().then(()=>{let e=null,t=()=>{Fl=!0,e&&(pt(e),e=null),r()};0<U.pageLoadTimeout&&(e=wt(()=>{t()},U.pageLoadTimeout)),B(e=>{Je()===Bl?e():O().addEventListener("readystatechange",()=>{Je()===Bl&&e()})}).then(t)});r()}):Fl=!0,e=>new jl(e)),Ul=e=>()=>zl(e),Xl=e=>new Al(e);class Cl{constructor(l,r){this.get=e=>l.get(e),this.set=(e,t)=>l.set(e,t),this.delete=e=>R(l,e),this.has=e=>l.has(e),this.sGet=e=>{let t=l.get(e);return void 0===t&&(t=r(e),l.set(e,t)),t},this.prune=(e,...t)=>{var r=l.get(e);r instanceof Cl&&H(t)&&r.prune(t[0],...t.slice(1)),(void 0===r||lt(r)&&!("size"in r&&r.size||"length"in r&&r.length))&&R(l,e)}}}class jl extends Cl{constructor(e){let t=F();super(t,e),Ht(this,"size",{get:()=>t.size}),this.clear=()=>t.clear(),this.entries=()=>t.entries(),this.keys=()=>t.keys(),this.values=()=>t.values(),this[l.iterator]=()=>t[l.iterator]()}}qr(jl,"newXMapGetter",Ul);class Al extends Cl{constructor(e){super(nr(),e)}}qr(Al,"newXWeakMapGetter",e=>()=>Xl(e));class Yl{static create(e){return new Yl(Gl(e),Zl)}static reuse(e){let t,r=Gl(e),l=Pr(Wr(r,{O:null})),n=r.O===m()?null:r.O,a=null==(t=ql.get(n))?void 0:t.get(l);return a||(a=new Yl(r,Zl),ql.sGet(n).set(l,a)),a}constructor(c,e){if(e!==Zl)throw cr("DOMWatcher.create");let d=zl(e=>({L:e,N:0,H:ar(),P:null,$:null})),f=F(),i=null,h=e=>{for(var t of e){var r=er(t),l=t.type;if(L(r))if(l===Le){for(var n of t.addedNodes)L(n)&&((n=d.sGet(n)).P=r,n.N|=Kl);for(var a of t.removedNodes)L(a)&&((a=d.sGet(a)).$=r,a.N|=Jl)}else l===Oe&&t.attributeName&&((l=d.sGet(r)).H.add(t.attributeName),l.N|=Ql)}!i&&Et(d)&&(i=wt(()=>{for(var e of d.values())b(e)||o(e);d.clear(),i=null},0))},w={childList:{I:sr(h),R:!1},attributes:{I:sr(h),R:!1}},o=e=>{for(var t of f.values()){var r=t.B.N,l=t.B.L,n=t.B.F;if(e.N&r){r=[];if(l){if(!e.L.contains(l))continue;r.push(l)}if(n){l=[...gt(e.L,n)];if(e.L.matches(n)&&l.push(e.L),!H(l))continue;r.push(...l)}rn(t.U,e,r)}}},p=(e,t)=>{w[t].R||(w[t].I.observe(e,{[t]:!0,subtree:c.X}),w[t].R=!0)},_=e=>{w[e].R&&(w[e].I.disconnect(),w[e].R=!1)},b=e=>{var t,r,l,n,a,i=e.L,o=(o=i,null!=(o=Hl.get(o))?o:null);return!(!o||(t=e.$,r=g(i),l=o.from,o=o.to,n=null!=(n=c.O)?n:m(),t!==l&&n.contains(l))||r!==o||(a=i,wt(()=>{R(Hl,a)},100),0))};this.ignoreMove=Nl,this.onMutation=async(e,t)=>{var l,r,n=en(null!=t?t:{}),a=(l=e,r=n,I(null==(u=f.get(l))?void 0:u.U),(u=X(l)).onRemove(()=>{{var t=l,r;R(f,t);let e=0;for(r of f.values())e|=r.B.N;e&(Kl|Jl)||_(Le),e&Ql||_(Oe)}}),f.set(l,{U:u,B:r}),u);let i=null!=(r=c.O)?r:m();if(i?await 0:i=await Il(m),!a.isRemoved()&&(n.N&(Kl|Jl)&&p(i,Le),n.N&Ql&&p(i,Oe),null==t||!t.skipInitial)&&n.F&&n.N&Kl){var o,u=w[Le].I.takeRecords();h(u);for(o of[...gt(i,n.F),...i.matches(n.F)?[i]:[]]){var s={L:o,N:Kl,H:ar(),P:g(o),$:null},v=d.get(o),s=tn(s,v);s&&!b(s)&&await rn(a,s)}}},this.offMutation=e=>{var t;I(null==(t=f.get(e))?void 0:t.U)}}}let Zl=l(),ql=zl(()=>F()),Gl=e=>{var t;return{O:null!=(t=null==e?void 0:e.root)?t:null,X:null==(t=null==e?void 0:e.subtree)||t}},Vl=Yr.bit,Kl=Vl[te],Jl=Vl[re],Ql=Vl[le],en=e=>{let t,r,l=0,n=Br("categories",e.categories,Yr.has);if(n)for(var a of n)l|=Vl[a];else l=Yr.bitmask;var i=null!=(t=e.selector)?t:"";if(ut(i))return{N:l,L:null!=(r=e.target)?r:null,F:i};throw z("'selector' must be a string")},tn=(e,t)=>{if(!t||e.L!==t.L)return e;var r,l=ar();for(r of e.H)t.H.has(r)||l.add(r);var n=e.N^t.N,a=e.P===t.P?null:e.P,i=e.$===t.$?null:e.$;return Et(l)||n||a||i?{L:e.L,N:n,H:l,P:a,$:i}:null},rn=(e,t,r=[])=>{for(var l of r=H(r)?r:[t.L])e.invoke({target:t.L,currentTarget:l,attributes:t.H,addedTo:t.P,removedFrom:t.$}).catch(C)},ln=(e,t=0)=>(t=At(44.99,p(t)),br(...e)?xr(e,[1,0],t)?w:xr(e,[0,1],t)?q:xr(e,[-1,0],t)?k:xr(e,[0,-1],t)?Z:ee:M),nn=e=>N(sn,e),an=[Z,q,k,w],on=[J,Q],un=[...an,M,ee],sn=[...an,...on,M,ee],vn=(e,t)=>{var r;vt(e)?e.call(null!=(r=t.currentTarget)?r:self,t):e.handleEvent.call(null!=(r=t.currentTarget)?r:self,t)},cn=(t,r,l,n)=>{if(null==n&&(n=!1),r=kn(r),mn(t,r,l,n))return!1;let e=n,a=l,i,o=wn();return it(n)&&(o.C||(e=null!=(i=n.capture)&&i),n.once)&&!o.B.once&&(a=e=>{dn(t,r,l,n),vn(l,e)}),yn(t,r,l,n,{j:a,A:e}),t.addEventListener(r,a,e),!0},dn=(e,t,r,l)=>{null==l&&(l=!1),t=kn(t);var n=mn(e,t,r,l);return!!n&&(e.removeEventListener(t,n.j,n.A),gn(e,t,r,l),!0)},fn=e=>{cn(e,De,Ot),L(e)&&bl(e,Ie)},hn=e=>{dn(e,De,Ot),L(e)&&ml(e,Ie)},wn=()=>{if(pn)return pn;let t={Y:!1,C:!1,B:{capture:!1,passive:!1,once:!1,signal:!1}},r={},l;for(l in t.B){let e=l;Ht(r,e,{get:()=>(t.B[e]=!0,"signal"===e&&(new AbortController).signal)})}var e=()=>{},n=tt("div");try{n.addEventListener("testOptionSupport",e,r),n.removeEventListener("testOptionSupport",e,r),t.C=!0}catch(e){}return t.Y="onpointerup"in n,pn=t},pn,_n=Xl(Ul(Ul(()=>F()))),bn=e=>{var t={capture:!1,passive:!1,once:!1};return!1===e||!0===e?t.capture=e:at(e)&&Er(e,t),Ft(t)},mn=(e,t,r,l)=>{var n,a=bn(l);return null==(n=_n.get(e))||null==(n=n.get(t))||null==(n=n.get(r))?void 0:n.get(a)},gn=(e,t,r,l)=>{var n,a=bn(l);R(null==(n=_n.get(e))||null==(n=n.get(t))?void 0:n.get(r),a),_n.prune(e,t,r)},yn=(e,t,r,l,n)=>{var a=bn(l);_n.sGet(e).sGet(t).sGet(r).set(a,n)},kn=e=>{var t=wn();return e.startsWith(S)&&!t.Y?ht(e,S,ae):e},xn=e=>N(Sn,e),Tn=e=>N(En,e),Mn=(e,t)=>jt(.1,e*t),Sn=[ne,S,E,ie],En=[D,se,ve,ce];class Wn{static create(e){return new Wn(Ln(e),Dn)}static reuse(e){let t=Ln(e),r=Pr(t),l=On.get(r);return l||(l=new Wn(t,Dn),On.set(r,l)),l}constructor(c,e){if(e!==Dn)throw cr("GestureWatcher.create");let w=Xl(()=>F()),p=Xl(()=>F()),n=async(t,e,r)=>{var l,n,a=$n(c,null!=r?r:{}),i=t,o=e,u=a;I(null==(s=w.get(i))||null==(s=s.get(o))?void 0:s.U);var{U:s,Z:v}=In(o,u);s.onRemove(()=>{var e,t=i,r=o,l=u;R(w.get(t),r),w.prune(t);for(e of null!=(n=l.q)?n:Sn){var n,a=null==(a=p.get(t))?void 0:a.get(e);a&&(a.G--,l.V&&a.K--,a.G||(R(p.get(t),e),a.J()))}}),w.sGet(i).set(o,{U:s,Z:v,B:u});for(l of null!=(s=a.q)?s:Sn){let e=null==(n=p.get(t))?void 0:n.get(l);e||(e=((a,t,e)=>{let r=e.ee,l=!1,n=!1,i,o,u=(t===ne&&L(a)&&(o=a,!kt(o,rr))?(l=!0,i=a,xt(i,rr,"0")):L(a)&&t===E&&(e.V&&bl(a,Re),r&&!N(r,ve)||(n=!0,fn(a))),(e,t,r)=>{var l,n="add"===e?cn:dn;for(l of r)n(a,l,t,{passive:!1,capture:!0})}),s=()=>u("add",f,Nn[t]),v=()=>u("remove",f,Nn[t]),c=()=>u("add",h,Hn[t]),d=()=>u("remove",h,Hn[t]),f=e=>{h(e),v(),c()},h=e=>{((e,t,r)=>{var l,n,a=0<(null!=(n=null==(n=p.get(e))||null==(n=n.get(t))?void 0:n.K)?n:0);let i=!1;for({Z:l}of(null==(n=w.get(e))?void 0:n.values())||[])i=l(e,t,r,a)||i;return i})(a,t,e)&&(d(),s())};return s(),{G:0,K:0,J:()=>{var e,t;L(a)&&(l&&(e=a,t=rr,e.removeAttribute(t)),ml(a,Re),n)&&hn(a),d(),v()}}})(t,l,a),p.sGet(t).set(l,e)),e.G++,a.V&&e.K++}};this.trackGesture=(e,t,r)=>{if(!t){t=Fn;for(var l of En)Fn(e,{intent:l,totalDeltaX:0,totalDeltaY:0,totalDeltaZ:1})}return n(e,t,r)},this.noTrackGesture=(e,t)=>{if(!t){t=Fn;for(var r of En)Fn(e,{intent:r})}this.offGesture(e,t)},this.onGesture=n,this.offGesture=(e,t)=>{var r;I(null==(r=w.get(e))||null==(r=r.get(t))?void 0:r.U)}}}let Dn=l(),On=F(),Ln=e=>{var t;return{V:null==(t=(e=null==e?{}:e).preventDefault)||t,te:_(e[be],150),re:_(e.deltaThreshold,5),le:(t=e.angleDiffThreshold,null!==(t=pr(t,null))&&0<t?t:35),ne:null==(t=e.naturalTouchScroll)||t,ae:null!=(t=e.touchDragHoldTime)?t:500,ie:null!=(t=e.touchDragNumFingers)?t:1}},Nn={key:[me],pointer:[xe,W],touch:[Se],wheel:[ie]},Hn={key:[me],pointer:[xe,ke,Te,Me,W],touch:[Se,"touchend",Ee,We],wheel:[ie]},Pn={key:(e,t)=>{lt(e)||(e=[e]);var r,l,n,a,i,o,u=U.deltaLineHeight,s=U.deltaPageHeight,v=null!=(r=null==t?void 0:t.scrollHeight)?r:s,c=e=>[0,-e,1],d=e=>[0,e,1],f=e=>[-e,0,1],h=e=>[e,0,1],w=[0,0,1.15],p=[0,0,1/1.15];let _=M,b=null,m=0,g=0,y=1;for(l of e)o=l,$(o,KeyboardEvent)&&l.type===me&&(o=null!=(o={Up:c(u),ArrowUp:c(u),PageUp:c(s),Home:c(v),Down:d(u),ArrowDown:d(u),PageDown:d(s),End:d(v),Left:f(u),ArrowLeft:f(u),Right:h(u),ArrowRight:h(u)," ":(l.shiftKey?c:d)(s),"+":w,"=":l.ctrlKey?w:null,"-":p}[l.key])?o:null)&&([o,n,a]=o,i=1!==a?se:D,m+=o,g+=n,y=Mn(y,a),b?b!==i&&(b=ce):b=i);return!!b&&(_=b===ce?ee:b===se?1<y?J:y<1?Q:M:ln([m,g],null==t?void 0:t.angleDiffThreshold))!==M&&{device:ne,direction:_,intent:b,deltaX:m,deltaY:g,deltaZ:y}},[S]:(e,t)=>{lt(e)||(e=[e]);let r=!1,l=wn(),n=l.Y?PointerEvent:MouseEvent,a=l.Y?ke:ge;var i,o=Mt(e,e=>{var t=e.type;return r=r||t===Me,!(t===W||!$(e,n)||(r=r||t===a&&0!==e.buttons||t!==a&&1!==e.buttons,t=e,ct(t)&&Qe(t)===E))}),u=H(o);return!(u<2)&&(r||(i=o[0],o=o[u-1],Qe(i)!==Qe(o))?null:(u=o.clientX-i.clientX,o=o.clientY-i.clientY,(i=ln([u,o],null==t?void 0:t.angleDiffThreshold))!==M&&{device:S,direction:i,intent:ve,deltaX:u,deltaY:o,deltaZ:1}))},touch:(e,t)=>{let r,l,n=((e,t=0)=>{var r,l=zl(()=>[]);for(r of e)if(dt(r)){if(r.type===We)return null;for(var n of r.touches)l.sGet(n.identifier).push(n)}var a,i=[];for(a of l.values()){var o,u,s,v,c,d,f=H(a);f<2||(o=(u=a[0]).clientX,v=(s=(f=a[f-1]).clientX)-o,c=(f=f.clientY)-(u=u.clientY),d=br(v,c)>=t,i.push({startX:o,startY:u,endX:s,endY:f,deltaX:v,deltaY:c,isSignificant:d}))}return i})(e=lt(e)?e:[e],null==t?void 0:t.deltaThreshold);if(!n)return null;let a=H(n),i,o,u,s,v,c,d,f=(w=(y=e).findIndex(e=>e.type===Se),k=y.findIndex(e=>e.type===Ee),(w<0||k<1?0:y[k].timeStamp-y[w].timeStamp)>=(null!=(r=null==t?void 0:t.dragHoldTime)?r:500)&&a===(null!=(l=null==t?void 0:t.dragNumFingers)?l:1)),h=null==t?void 0:t.angleDiffThreshold;var w;let p=mr(...n.map(e=>e.deltaX)),_=mr(...n.map(e=>e.deltaY)),b=1,m=(2<a&&(n=Mt(n,e=>e.isSignificant),a=H(n)),M),g=ce;2===a&&(i=[n[0].deltaX,n[0].deltaY],o=[n[1].deltaX,n[1].deltaY],mr(...i)&&mr(...o)&&([v,c,d=0]=[i,o,h],!xr(v,[-c[0],-c[1]],d))||(u=Tr([n[0].startX,n[0].startY],[n[1].startX,n[1].startY]),s=Tr([n[0].endX,n[0].endY],[n[1].endX,n[1].endY]),m=u<s?J:Q,b=s/u,p=_=0,g=se));var y,k,x=f||null!=t&&t.reverseScroll?1:-1;if(p=x*p+0,_=x*_+0,m===M){let e=!0;for(var T of n){g=f?ve:D;T=ln([x*T.deltaX,x*T.deltaY],h);if(T!==M){if(e)m=T;else if(m!==T){m=ee;break}e=!1}}}return m===M?(y=null==(k=e.filter(dt))?void 0:k.slice(-1)[0],!H(null==y?void 0:y.touches)&&null):{device:E,direction:m,intent:g,deltaX:p,deltaY:_,deltaZ:b}},wheel:(e,t)=>{lt(e)||(e=[e]);let r=M,i=null,o=0,u=0,s=1;for(var v of e)if(l=v,$(l,WheelEvent)&&v.type===ie){let e=(e=>{let t=0,r=0,l=e.deltaX,n=e.deltaY,a=U.deltaLineHeight;return void 0!==e.detail&&(r=e.detail),void 0!==e.wheelDelta&&(r=-e.wheelDelta/120),void 0!==e.wheelDeltaY&&(r=-e.wheelDeltaY/120),void 0!==e.wheelDeltaX&&(t=-e.wheelDeltaX/120),(l||n)&&e.deltaMode&&(1===e.deltaMode?(l*=a,n*=a):(l*=U.deltaPageWidth,n*=U.deltaPageHeight)),l&&!t&&(t=l<1?-1:1),n&&!r&&(r=n<1?-1:1),{spinX:t,spinY:r,pixelX:l,pixelY:n}})(v),t=D,r=e.pixelX,l=e.pixelY,n=1,a=mr(r,l);if(v.ctrlKey&&!r){let e=-a;50<=p(e)&&(e/=10),n=1+e/100,r=l=0,t=se}else v.shiftKey&&!r&&(r=l,l=0);o+=r,u+=l,s=Mn(s,n),t&&(i?i!==t&&(i=ce):i=t)}var l;return!!i&&(r=i===ce?ee:i===se?1<s?J:s<1?Q:M:ln([o,u],null==t?void 0:t.angleDiffThreshold))!==M&&{device:ie,direction:r,intent:i,deltaX:o,deltaY:u,deltaZ:s}}},$n=(e,t)=>{var r,l=_(t[be],e.te),n=_(t.deltaThreshold,e.re);return{q:null!=(r=Br("devices",t.devices,xn))?r:null,oe:null!=(r=Br("directions",t.directions,nn))?r:null,ee:null!=(r=Br("intents",t.intents,Tn))?r:null,ue:null!=(r=t.minTotalDeltaX)?r:null,se:null!=(r=t.maxTotalDeltaX)?r:null,ve:null!=(r=t.minTotalDeltaY)?r:null,ce:null!=(r=t.maxTotalDeltaY)?r:null,de:null!=(r=t.minTotalDeltaZ)?r:null,fe:null!=(r=t.maxTotalDeltaZ)?r:null,V:null!=(r=t.preventDefault)?r:e.V,te:l,re:n,le:_(t.angleDiffThreshold,e.le),ne:null!=(r=t.naturalTouchScroll)?r:e.ne,ae:null!=(l=t.touchDragHoldTime)?l:e.ae,ie:null!=(n=t.touchDragNumFingers)?n:e.ie}},In=(e,t,r)=>{let v=0,c=0,d=1,a=!1,f=t.oe,h=t.ee,w=t.ue,p=t.se,_=t.ve,b=t.ce,m=t.de,g=t.fe,y=t.re,i=t.le,o=!t.ne,u=t.ae,s=t.ie,k=[],x=((()=>{let e="";for(;H(e)<8;)e+=zt(1e5+9e5*n.random()).toString(36);e.slice(0,8)})(),X(e)),T=Kr(t.te,(e,t,r)=>{var l,n,a,i,o,u,s;x.isRemoved()||(s=t.deltaX,l=t.deltaY,n=t.deltaZ,a=t.device,Yt(br(s,l,100*(1-n)))<y)||(Rn(a,k),o=_r(v+s,{min:w,max:p}),u=_r(c+l,{min:_,max:b}),i=_r(Mn(d,n),{min:m,max:g}),o===v&&u===c&&i===d)||(v=o,c=u,d=i,s={device:a,direction:o=t.direction,intent:u=t.intent,deltaX:s,deltaY:l,deltaZ:n,time:(null==(i=r[H(r)-1])?void 0:i.timeStamp)-(null==(a=r[0])?void 0:a.timeStamp)||0,totalDeltaX:v,totalDeltaY:c,totalDeltaZ:d},o===M)||f&&!N(f,o)||h&&!N(h,u)||x.invoke(e,s,r).catch(C)});return{U:x,Z:(e,t,r,l)=>{k.push(r);var n=Pn[t](k,{angleDiffThreshold:i,deltaThreshold:y,reverseScroll:o,dragHoldTime:u,dragNumFingers:s});if(l&&Bn(r,!!n||r.type===W&&a),!1!==n){if(null===n)return Rn(t,k),!0;t===S&&(a=!0,wt(()=>{a=!1},10)),T(e,n,[...k])}return!1}}},Rn=(e,t)=>{var r=e===S||e===E;t.splice(0,H(t)-(r?1:0))},Bn=(e,t)=>{var r=e.currentTarget,l=e.type,n=l===xe||l===ye;(l===Ee||l===ie||(l===W||l===me)&&t||n&&1===e.buttons)&&(Ot(e),n)&&ft(r)&&r.focus({preventScroll:!0})},Fn=(e,t)=>{var r,l=t.intent;L(e)&&l&&l!==ce&&(r=l+"-",l===se?xl(e,{deltaZ:t.totalDeltaZ},{g:r,k:2}):xl(e,{deltaX:t.totalDeltaX,deltaY:t.totalDeltaY},{g:r}))},zn=Mr(U.deviceBreakpoints),Un=Mr(U.aspectRatioBreakpoints),Xn=Xr(),Cn=Cr(Xn,...zn),jn=Cr(Xn,...Un),An=H(zn)+H(Un),Yn=RegExp("^ *(?:([a-z-]+) +to +([a-z-]+)|min +([a-z-]+)|max +([a-z-]+)) *$"),Zn=(e,t,r)=>{if(v(t))return 0;var l=e.slice(0,-1);if(ut(t)){var n=t.match(Yn);if(n){var a=n[1]||n[3],n=n[2]||n[4];if(void 0!==a&&!r.has(a))throw z(`Unknown ${l} '${a}'`);if(void 0===n||r.has(n))return r.bitmaskFor(a,n);throw z(`Unknown ${l} '${n}'`)}}let i=0,o=Br(e,t,r.has);if(o)for(var u of o)i|=r.bit[u];return i},qn=async()=>B(e=>{et(e)});function Gn(){var e=function*(e){let l,n,{total:a=0,sinceLast:i=0}=null!=e?e:{};for(;;)yield(async()=>{var e=await qn(),t=(l&&n||(l=e-a,n=e-i),e-l),r=e-n;return n=e,{total:t,sinceLast:r}})()};return(Gn=function(){return new Gr(e.apply(this,arguments))}).apply(this,arguments)}let Vn=(e,t)=>{let{axis:r,active:l,noCache:n}=null!=t?t:{};if(!r)return Vn(e,{axis:"y",active:l,noCache:n})||Vn(e,{axis:"x",active:l,noCache:n});if(!n){var a=null==(a=ia.get(e))?void 0:a.get(r);if(!rt(a))return a}var i,o,a="x"===r?"Left":"Top",a=!!e["scroll"+a]||(l?(lr(e,{[Ze(a)]:1}),o=0<e["scroll"+a],lr(e,{[Ze(a)]:0}),o):(a="x"===r?"Width":"Height",o=e===Ke(),a=e["scroll"+a]>e["client"+a],i=yl(e,"overflow"),o=[D,Ne,...o?[He]:[]],a&&N(o,i)));return n||(ia.sGet(e).set(r,a),wt(()=>{R(ia.get(e),r),ia.prune(e)},aa)),a},Kn=(e,t)=>{let r=e;for(;r=g(r);)if(Vn(r,t))return r;return null},Jn=e=>N(un,e),Qn=e=>da(e)?e.offsetWidth-ca(e,k)-ca(e,w):e[he],ea=e=>da(e)?e.offsetHeight-ca(e,y)-ca(e,Y):e[we],ta=async()=>(await ga(),_a),ra=async()=>(await ga(),ba),la=()=>{var e,t=m();return Vn(t)||null==(e=Ke())?t:e},na=async e=>{var t,r=e,l=ra;if(L(r))return null!=(t=oa.get(r))?t:r;if(r&&r!==Ge()&&r!==O())throw z("Unsupported scroll target");return l()},aa=1e3,ia=zl(()=>F()),oa=F(),ua=F(),sa=5,va=(e,t,r=sa)=>br(e.top-t.top,e.left-t.left)>r,ca=(e,t)=>Ut(Gt(yl(e,"border-"+t))),da=e=>e===m()&&null===Ke(),fa=e=>null!=e?e:la(),ha=(e,t)=>{var r=ua.get(e),l=null!=(l=t.he)?l:null==r?void 0:r.he;l&&ua.set(e,Pt(r,t,{he:l}))},wa=(e,t)=>{let r=e===Ke();if(L(t)){if(e!==t&&e.contains(t))return{top:()=>_t(t).top-_t(e).top+(r?0:e[x]),left:()=>_t(t).left-_t(e).left+(r?0:e[T])};throw z("Target must be a descendant of the scrollable one")}if(ut(t)){var l=yt(t);if(l)return wa(e,l);throw z(`No match for '${t}'`)}if(at(t)&&("top"in t||"left"in t))return t;throw z("Invalid coordinates")},pa=(e,t,r)=>{var l=P(t),n=(rt(null==r?void 0:r.top)||(vt(r.top)?l.top=r.top(e):l.top=r.top),rt(null==r?void 0:r.left)||(vt(r.left)?l.left=r.left(e):l.left=r.left),e[fe]),a=e[de],i=ea(e),o=Qn(e);return l.top=At(n-i,l.top),l.top=jt(0,l.top),l.left=At(a-o,l.left),l.left=jt(0,l.left),l},_a,ba,ma=null,ga=()=>ma=ma||(async()=>{let e=U.mainScrollableElementSelector;var t=await B(t=>{let r=!1;Il(()=>r||(e?yt(e):m())).then(e=>{r||t(e)}),Rl().then(()=>{r=!0,t(null)})});ba=la(),_a=m(),t?ft(t)?t!==_a&&(ba=_a=t):tl("mainScrollableElementSelector should point to an HTMLElement"):C(z(`No match for '${e}'. `+"Scroll tracking/capturing may not work as intended."))})(),ya=(qe()&&Rl().then(ga),async e=>{var t=await Ta(e),r=!t.we;if(r){var l=null==(l=xa.get(t.pe))?void 0:l.get(t._e);if(l)return g(l)||await nl(),l}let n=Wa(t),a=(r?xa.sGet(t.pe).set(t._e,n):n.id=t.we,N((t.be.left||"")+(t.be.right||""),"%")),i=N((t.be.top||"")+(t.be.bottom||""),"%"),o=t.pe;return(a||i)&&(a&&Vn(o,{axis:"x"})||i&&Vn(o,{axis:"y"}))&&(o=await Ll(o,{M:[Pe,ka],W:!0,D:"percentage offset view trigger with scrolling root"})),t.be.position===j&&bl(o,s+"-overlay-container"),await Wl(n,{to:o}),n}),ka=s+"-overlay-wrapper",xa=Xl(()=>F()),Ta=async e=>{var t,r=Sa(null==e?void 0:e.style),l=null!=(l=null==e?void 0:e.data)?l:{};return{pe:await Ea(null==e?void 0:e.parent,r.position),we:null!=(t=null==e?void 0:e.id)?t:"",be:r,me:l,_e:Ma(r,l)}},Ma=(e,t)=>Pr(e)+"|"+Pr(t),Sa=e=>{var t=Pt(e,{position:(null==e?void 0:e.position)||j});return t.position!==j&&t.position!==A||(v(t.top)&&v(t.bottom)&&(t.top="0px"),v(t.left)&&v(t.right)&&(t.left="0px")),t},Ea=async(e,t)=>null!=e?e:t===A?await Il(m):await ta(),Wa=e=>{var t,r,l,n,a=tt("div"),i=(_l(a,s+"-overlay"),e.me);for(t of Nt(i))r=a,l=Hr(t),n=i[t],xt(r,Ye(l),n);var o,u=e.be;for(o of Nt(u))kl(a,o,u[o]);return a},Da=e=>{var t=e.contentBoxSize;return t?$a(t):(t=e.contentRect,{[f]:t[f],[h]:t[h]})},Oa=async(e=!1)=>{e||await al();var t,r=qe()?null!=(r=Ke())?r:m():null;return{[f]:null!=(t=null==r?void 0:r.clientWidth)?t:0,[h]:null!=(t=null==r?void 0:r.clientHeight)?t:0}},La="inlineSize",Na="blockSize",Ha=["content","border"],Pa=[f,h],$a=e=>lt(e)?{[f]:e[0][La],[h]:e[0][Na]}:{[f]:e[La],[h]:e[Na]},Ia,Ra=null;class Ba{constructor(n,a){let i=F(),o=nr(),r=ir(),u=(null==a&&(a=0),null),e=e=>{for(var t of e){var r=er(t),l=o.get(r);void 0!==l?2===l?o.set(r,1):(1!==l&&C(vr("# targetsToSkip is "+l)),R(o,r)):i.set(r,t)}!u&&Et(i)&&(u=wt(()=>{Et(i)&&(n(Lt(i.values()),this),i.clear()),u=null},a))},l=ur(e),s=ur(e),v=(l&&s||tl("This browser does not support ResizeObserver. Some features won't work."),e=>{r.add(e),null!=l&&l.observe(e,{box:"border-box"}),null!=s&&s.observe(e)});this.observe=(...e)=>{for(var t of e)v(t)},this.observeLater=(...e)=>{for(var t of e)r.has(t)||(o.set(t,2),v(t))},this.unobserve=(...e)=>{for(var t of e)R(r,t),null!=l&&l.unobserve(t),null!=s&&s.unobserve(t)},this.disconnect=()=>{r=ir(),null!=l&&l.disconnect(),null!=s&&s.disconnect()}}}class Fa{static create(e){return new Fa(Xa(e),za)}static reuse(e){let t=Xa(e),r=Pr(t),l=Ua.get(r);return l||(l=new Fa(t,za),Ua.set(r,l)),l}constructor(n,e){if(e!==za)throw cr("SizeWatcher.create");let i=nr(),a=Xl(()=>F()),o=new Ba(e=>{for(var t of e)d(t)}),u=async e=>{let t=await Ya(e),r=i.get(t);return r?P(r):B(r=>{let l=ur(e=>{var t=ja(e[0]);null!=l&&l.disconnect(),r(t)});l?l.observe(t):r({border:{[f]:0,[h]:0},content:{[f]:0,[h]:0}})})},s=async e=>{var t=null!=(t=e.box)?t:null;if(t&&(l=t,!N(Ha,l)))throw z(`Unknown box type: '${t}'`);var r,l=null!=(l=e.dimension)?l:null;if(l&&(r=l,!N(Pa,r)))throw z(`Unknown dimension: '${l}'`);return{ge:await Ya(er(e)),ye:t,ke:l,xe:_(e.threshold,n.Te)||1,te:null!=(r=e[be])?r:n.te}},v=(e,t)=>{var r=t.ge,l=(I(null==(l=a.get(r))||null==(l=l.get(e))?void 0:l.U),X(e,t.te)),l=(l.onRemove(()=>{c(e,t)}),{U:l,B:t});return a.sGet(r).set(e,l),l},r=async(e,t)=>{var r=await s(null!=t?t:{}),l=r.ge,r=v(e,r),n=r.U,a=await u(l);n.isRemoved()||(r.me=a,i.set(l,a),o.observeLater(l),null!=t&&t.skipInitial)||await Za(X(e),l,a)},l=async(e,t)=>{var r=(await s({target:t})).ge,l=null==(l=a.get(r))?void 0:l.get(e);l&&(I(l.U),e===Aa)&&Aa(r,null)},c=(e,t)=>{var r=t.ge;R(a.get(r),e),a.prune(r),a.has(r)||(o.unobserve(r),R(i,r))},d=e=>{var t,r=er(e),l=ja(e);i.set(r,l);for(let e of(null==(t=a.get(r))?void 0:t.values())||[])Ca(e.B,l,e.me)&&(e.me=l,Za(e.U,r,l))};this.fetchCurrentSize=u,this.trackSize=async(e,t)=>(e=e||Aa,r(e,t)),this.noTrackSize=(e,t)=>{e=e||Aa,l(e,t)},this.onResize=r,this.offResize=(e,t)=>{l(e,t)}}}let za=l(),Ua=F(),Xa=e=>(null==e&&(e={}),{te:_(e[be],75),Te:_(e.resizeThreshold,50)||1}),Ca=(r,l,n)=>{if(n){let e,t;for(e in l)if(!r.ye||r.ye===e)for(t in l[e])if((!r.ke||r.ke===t)&&p(l[e][t]-n[e][t])>=r.xe)return!0}return!1},ja=e=>{var t,r;return{border:(r=(t=e).borderBoxSize)?$a(r):Da(t),content:Da(e)}},Aa=(e,t)=>{let r="";e===(null!=Ia?Ia:null)&&(e=Ve(),r="window-");var l={borderWidth:null==t?void 0:t.border[f],borderHeight:null==t?void 0:t.border[h],contentWidth:null==t?void 0:t.content[f],contentHeight:null==t?void 0:t.content[h]};xl(e,l,{g:r})},Ya=async e=>{if(L(e))return e;if(!e||e===Ge())return(async()=>(await(Ra=Ra||(async()=>{Ia=await ya({id:s+"-vp-ovrl",style:{position:"fixed",[f]:"100vw",[h]:"100vh"}})})()),Ia))();if(e===O())return Ve();throw z("Unsupported resize target")},Za=(e,t,r)=>e.invoke(t,P(r)).catch(C);let qa=l(),Ga=zl(()=>F()),Va=Ae("border-height"),Ka=s+"-device",Ja=s+"-aspect-ratio",Qa=e=>{var t,r=P(U.deviceBreakpoints),l=(null!=e&&e.deviceBreakpoints&&Er(e.deviceBreakpoints,r),P(U.aspectRatioBreakpoints));return null!=e&&e.aspectRatioBreakpoints&&Er(e.aspectRatioBreakpoints,l),{O:null!=(t=null==e?void 0:e.root)?t:null,Me:r,Se:l}},ei=async(e,t,r)=>{let l=[],n=e||await ya({style:{position:"fixed",[f]:"100vw"}}),a;for(a in t)l.push(ya({parent:n,style:{position:"absolute",[f]:t[a]+"px"},data:{[Ka]:a}}));var i=e?`var(${Va}, 0) * 1px`:"100vh";e&&Fa.reuse().trackSize(null,{target:e});let o;for(o in r)l.push(ya({parent:n,style:{position:"absolute",[f]:`calc(${r[o]} `+`* ${i})`},data:{[Ja]:o}}));return{root:n,overlays:await $t(l)}},ti=(e,t,r)=>!((null==r?void 0:r.device)===t.device||t.device&&!(Cn.bit[t.device]&e))||!((null==r?void 0:r.aspectRatio)===t.aspectRatio||t.aspectRatio&&!(jn.bit[t.aspectRatio]&e)),ri=(t,r)=>{var l=er(r);if(ft(l)){var n=l,n=(n=gl(n,Ka)||gl(n,Ja))&&(Cn.has(n)||jn.has(n))?n:(C(vr("No device or aspectRatio data attribute")),null);let e=0;n&&(Cn.has(n)?e=Cn.bit[n]:jn.has(n)?e=jn.bit[n]:C(vr("Unknown device or aspectRatio data attribute: "+n))),r.isIntersecting?t&=~e:t|=e}else C(vr(`IntersectionObserver called us with '${Jt(l)}'`));return t},li=(e,t)=>e.invoke(P(t)).catch(C),ni=e=>N(ai,e),ai=[W,oe,ue],ii=l(),oi=F(),ui=e=>{var t;return{V:null!=(t=null==e?void 0:e.preventDefault)&&t,Ee:null==(t=null==e?void 0:e.preventSelect)||t}},si=(l,n,t,r,a)=>{let i=l===oe?"enter":"down",e=l===oe?"leave":"up",o=S+i,u=S+e,s=(e,t)=>{a.V&&Ot(e);var r={action:l,state:ht(e.type,/pointer|mouse/,"")===i?"ON":"OFF"};ci(t,n,r,e)},v=e=>s(e,t),c=e=>s(e,r);cn(n,o,v),cn(n,u,c),a.Ee&&fn(n),t.onRemove(()=>{hn(n),dn(n,o,v)}),r.onRemove(()=>{hn(n),dn(n,u,c)})},vi={click:(r,l,n,a)=>{let i=!1,e=e=>{a.V&&Ot(e),i=!i;var t={action:W,state:i?"ON":"OFF"};ci(i?l:n,r,t,e)};cn(r,W,e);var t=()=>dn(r,W,e);l.onRemove(t),n.onRemove(t)},hover:(...e)=>si(oe,...e),press:(...e)=>si(ue,...e)},ci=(e,t,r,l)=>e.invoke(t,P(r),l).catch(C);class di{static fetchMainContentElement(){return ta()}static fetchMainScrollableElement(){return ra()}static create(e){return new di(pi(e),fi)}static reuse(e){let t=pi(e),r=Pr(t),l=hi.get(r);return l||(l=new di(t,fi),hi.set(r,l)),l}constructor(w,e){if(e!==fi)throw cr("ScrollWatcher.create");let p=nr(),_=nr(),b=Xl(()=>F()),m=async(e,t=!1,r=!1)=>{var l=p.get(e),n=await ki(e,l,t);return!r&&l&&(n.direction=l.direction),n},r=async(t,r,l)=>{var n,a,i=await mi(w,null!=r?r:{}),o=i.ge,u=(n=t,u=l,s=(a=i).ge,I(null==(v=b.get(s))||null==(v=v.get(n))?void 0:v.U),(v=X(n,a.te)).onRemove(()=>{var e,t=n,r=(e=a).ge,l=e.We;R(b.get(r),t),b.prune(r),(t=_.get(l))&&0===e.te&&t.De--,b.has(r)||(R(p,r),dn(l,D,g),R(_,l))}),v={U:v,Oe:u,B:a},b.sGet(s).set(n,v),v),s=u.U,v=i.We,c=await m(o,0===i.te);if(!s.isRemoved()){if(u.me=c,p.set(o,c),l===bi){{var d=u;let t=d.B,n=t.ge,r=d.U,e=O(),l=Ke(),a=X(async()=>{var e=await m(n);yi(t,e,d.me)&&!r.isRemoved()&&await Mi(r,n,e)}),i=(r.onRemove(a.remove),Fa.reuse()),o=e=>i.onResize(a,{target:e,debounceWindow:t.te,threshold:t.xe});if(n===l)o(),o(e);else{let r=ar([n]),l=(o(n),await Ll(n,{M:[Pe,wi]}));if(l)o(l),r.add(l);else for(var f of Qt(n))o(f),r.add(f);var u=Yl.create({root:n,subtree:!1}),h=X(e=>{var t=null==e?void 0:e.currentTarget;t!==l&&(l?Wl(t,{to:l,ignoreMove:!0}):(o(t),r.add(t)))});u.onMutation(h,{categories:[te]}),a.onRemove(h.remove)}}await 0}let e=_.get(v);e||(e={De:0},_.set(v,e),cn(v,D,g)),0===i.te&&e.De++;u=i.oe;s.isRemoved()||null!=r&&r.skipInitial||!gi(u,c.direction)||await Mi(X(t),o,c)}},l=async(e,t,r)=>{var l=(await mi(w,{scrollable:t})).ge,n=null==(n=b.get(l))?void 0:n.get(e);(null==n?void 0:n.Oe)===r&&(I(n.U),e===xi)&&xi(l,null)},g=async e=>{var t=er(e);if(t&&(L(t)||t===O())){var r,l=await na(t),t=0<(null!=(t=null==(t=_.get(t))?void 0:t.De)?t:0),n=await m(l,t,!0);p.set(l,n);for(r of(null==(t=b.get(l))?void 0:t.values())||[]){var a=r.B;yi(a,n,r.me)&&(r.me=n,gi(a.oe,n.direction))&&Mi(r.U,l,n)}}};this.fetchCurrentScroll=(e,t)=>na(e).then(e=>m(e,t)),this.scroll=(e,t)=>{if(!Jn(e))throw z(`Unknown scroll direction: '${e}'`);let r=e===Z||e===q,l=e===Z||e===k?-1:1,n,a=null!=(o=null==t?void 0:t.amount)?o:100,i=null==t?void 0:t.asFractionOf;if("visible"===i)n=r?e=>e[x]+l*a*ea(e)/100:e=>e[T]+l*a*Qn(e)/100;else if("content"===i)n=r?e=>e[x]+l*a*e[fe]/100:e=>e[T]+l*a*e[de]/100;else{if(void 0!==i&&"pixel"!==i)throw z(`Unknown 'asFractionOf' keyword: '${i}'`);n=r?e=>e[x]+l*a:e=>e[T]+l*a}var o=r?{top:n}:{left:n};return this.scrollTo(o,t)},this.scrollTo=async(e,t)=>{var r;return((e,t)=>{var r=e,l=t,n=fa(null==l?void 0:l.scrollable),r=wa(n,r),a=null!=l&&l.altTarget?wa(n,null==l?void 0:l.altTarget):null,a={L:r,Le:null!=(r=null==l?void 0:l.offset)?r:null,Ne:a,He:null!=(r=null==l?void 0:l.altOffset)?r:null,Pe:n,$e:null!=(a=null==l?void 0:l.duration)?a:0,Ie:null!=(r=null==l?void 0:l.weCanInterrupt)&&r,Re:null!=(n=null==l?void 0:l.userCanInterrupt)&&n};let i=a.Pe,o=ua.get(i);if(o&&!o.he.cancel())return null;let g=!1,u=a.Ie?()=>g=!0:()=>!1,s=["touchmove","wheel"],v=null;if(a.Re)for(var c of s)cn(i,c,()=>{g=!0},{once:!0});else{v=Ot;for(var d of s)cn(i,d,v,{passive:!1})}let f={he:{waitFor:()=>w,cancel:u}},h=()=>{var e;if((null==(e=ua.get(i))?void 0:e.he)===f.he&&R(ua,i),v)for(var t of s)dn(i,t,v,{passive:!1})},w=(async e=>{let t,r,l=await(async e=>{await al();let t=(e,t)=>{var r;e.top+=null!=(r=null==t?void 0:t.top)?r:0,e.left+=null!=(r=null==t?void 0:t.left)?r:0},r=e.Pe,l={top:r[x],left:r[T]},n=pa(r,l,e.L);return t(n,e.Le),!va(l,n)&&e.Ne&&t(n=pa(r,l,e.Ne),e.He),{Be:l,Fe:n}})(e),n=e.$e,a=e.Pe,i=ua.get(a),o=null!=(t=null==i?void 0:i.ze)?t:l.Be,u=null!=(r=null==i?void 0:i.Ue)?r:{[y]:0,[k]:0},s=null==i?void 0:i.Xe;var v,c=!1,d=!1;try{for(var f,h=(e=>{var t,r,l,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,l=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(l&&null!=(t=e[l]))return new Zr(t.call(e));r="@@asyncIterator",l="@@iterator"}throw new TypeError("Object is not async iterable")})(function(){return Gn.apply(this,arguments)}(s));c=!(f=await h.next()).done;c=!1){var w=(s=f.value).sinceLast;if(0!==w){if(await al(),g)throw o;for(var p of[k,y]){var{l:_,v:b}=(e=>{let t,r,l,{lTarget:n,precision:a=2}=e,i=7/(_r(e.lag,{min:1})/1e3),{l:o=0,v:u=0,dt:s}=e;return s/=1e3,0===hr(o-n,a)?(o=n,u=0):0<s&&(t=o-n,r=u+i*t,l=qt(-i*s),o=n+(t+r*s)*l,u=(r-i*(t+r*s))*l),{l:o,v:u}})({l:o[p],v:u[p],lTarget:l.Fe[p],dt:w,lag:n});o[p]=_,u[p]=b}ha(a,{ze:o,Ue:u,Xe:s});var m=!va(o,l.Fe,.5);if(m&&It(o,l.Fe),lr(a,o),m)break}}}catch(e){d=!0,v=e}finally{try{c&&null!=h.return&&await h.return()}finally{if(d)throw v}}return o})(a);return f.he.waitFor().then(h).catch(h),ha(i,f),f.he})(e,Pt(t,{duration:null!=(r=null==t?void 0:t.duration)?r:w.Ce,scrollable:await na(null==t?void 0:t.scrollable)}))},this.fetchCurrentScrollAction=e=>na(e).then(e=>{return t=e,t=fa(t),(t=ua.get(t))?P(t.he):null;var t}),this.stopUserScrolling=async e=>{let t=await na(null==e?void 0:e.scrollable),r=()=>lr(t,{top:t[x],left:t[T]});null!=e&&e.immediate?r():al().then(r)},this.trackScroll=(e,t)=>(e=e||xi,r(e,t,bi)),this.noTrackScroll=(e,t)=>{e=e||xi,l(e,t,bi)},this.onScroll=(e,t)=>r(e,t,_i),this.offScroll=(e,t)=>{l(e,t,_i)}}}let fi=l(),hi=F(),wi=s+"-scroll-watcher-wrapper",pi=e=>(null==e&&(e={}),{te:_(e[be],75),je:_(e.scrollThreshold,50)||1,Ce:_(e.scrollDuration,1e3)}),_i=1,bi=2,mi=async(e,t)=>{var r=Br("directions",t.directions,Jn)||null,l=await na(t.scrollable);return{ge:l,We:Ti(l),oe:r,xe:_(t.threshold,e.je)||1,te:null!=(l=t[be])?l:e.te}},gi=(e,t)=>!e||N(e,t),yi=(e,t,r)=>{var l=e.oe,n=e.xe;if(!r)return!1;let a=br(t[x]-r[x],t[fe]-r[fe],t[we]-r[we]),i=br(t[T]-r[T],t[de]-r[de],t[he]-r[he]),o=!1,u=!1;return!l||N(l,M)||N(l,ee)?o=u=!0:((N(l,Z)||N(l,q))&&(o=!0),(N(l,k)||N(l,w))&&(u=!0)),o&&n<=a||u&&n<=i},ki=async(e,t,r)=>{r||await al();var l=Ut(e[x]),n=Ut(e[T]),a=e[de],i=e[fe],o=Qn(e),u=ea(e),s=Yt(l)/(i-u||b),v=Yt(n)/(a-o||b),c=null!=(c=null==t?void 0:t.scrollTop)?c:0,d=n-(null!=(d=null==t?void 0:t.scrollLeft)?d:0),c=l-c;return{direction:p(d)||p(c)?p(d)===p(c)?ee:p(d)>p(c)?d<0?k:w:c<0?Z:q:M,[he]:o,[we]:u,[de]:a,[fe]:i,[x]:l,[pe]:s,[T]:n,[_e]:v}},xi=(e,t)=>{let r="";e===(null!=ba?ba:null)&&(e=Ve(),r="page-"),null==t&&(t={});var l={[x]:t[x],[pe]:t[pe],[T]:t[T],[_e]:t[_e],[de]:t[de],[fe]:t[fe]};xl(e,l,{g:r})},Ti=e=>e===Ke()?O():e,Mi=(e,t,r)=>e.invoke(t,P(r)).catch(C),Si=e=>N(Ei,e),Ei=[G,V,K,k,w],Wi=Cr(Xr(),...Ei),Di=RegExp("(top|bottom|left|right): *([^ ].+)");class Oi{constructor(l,e){let r=ir(),n=ir(),a=or(e=>{var t,r=[];for(t of e)n.has(er(t))?R(n,er(t)):r.push(t);H(r)&&l(r,this)},e);Ht(this,"root",{get:()=>a.root}),Ht(this,"rootMargin",{get:()=>a.rootMargin}),Ht(this,"thresholds",{get:()=>a.thresholds}),this.observe=(...e)=>{for(var t of e)r.add(t),a.observe(t)},this.observeLater=(...e)=>{for(var t of e)r.has(t)||(n.add(t),this.observe(t))},this.unobserve=(...e)=>{for(var t of e)R(r,t),a.unobserve(t)},this.disconnect=()=>{r=ir(),a.disconnect()},this.takeRecords=()=>a.takeRecords()}}let Li=l(),Ni=zl(()=>F()),Hi=e=>{var t;return{O:null!=(t=null==e?void 0:e.root)?t:null,Ae:null!=(t=null==e?void 0:e.rootMargin)?t:"0px 0px 0px 0px",xe:null!=(t=null==e?void 0:e.threshold)?t:0}},Pi=1,$i=2,Ii=async(e,t,r)=>({ge:await Ai(e,t),Ye:(e=>{let t=0,r=Br("views",e,Si);if(r)for(var l of r){if(!Si(l))throw z(`Unknown view '${l}'`);t|=Wi.bit[l]}else t=Wi.bitmask;return t})(null==r?void 0:r.views),te:null==r?void 0:r.debounceWindow,Te:null==r?void 0:r.resizeThreshold,je:null==r?void 0:r.scrollThreshold}),Ri=async(e,t)=>{t||await al();let r=[],l=e;for(;l=Kn(l,{active:!0});)r.push(l);return r},Bi=(e,t)=>!(t&&Fi(t.views)===Fi(e.views)&&Dr(bt(t.targetBounds),bt(e.targetBounds))&&Dr(t.rootBounds,e.rootBounds)&&Dr(t.relative,e.relative)),Fi=e=>Wi.bit[e[0]]|(e[1]?Wi.bit[e[1]]:0),zi=async(e,t,r=!1)=>{var l,n,a=e.O,i=await Oa(r),o=(n=e.Ae,l=i,[(i=(e,t)=>{let r=Gt(null!=e?e:"")||0;return e===r+"%"&&(r*=t%2?l[h]:l[f]),r})((n=Nr(n," ",!0))[0],0),i(null!=(o=n[1])?o:n[0],1),i(null!=(o=n[2])?o:n[0],2),i(null!=(i=null!=(o=n[3])?o:n[1])?i:n[0],3)]);let u,s,v=null,c=null,d=null;return $(t,IntersectionObserverEntry)?(u=t.target,s=t.boundingClientRect,v=t.rootBounds,c=t.isIntersecting,d=!t.rootBounds):(u=t,s=await Ui(u,r)),v=v||await Ui(a,r,o),{L:u,Ze:s,O:a,qe:o,Ge:v,Ve:c,Ke:d}},Ui=async(e,t,r)=>{var l,n=e?(t||await al(),bt(_t(e))):({width:n,height:l}=await Oa(t),{x:0,left:0,right:n,width:n,y:0,top:0,bottom:l,height:l});return r&&(n.x=n[k]-=r[3],n[w]+=r[1],n[f]+=r[1]+r[3],n.y=n[y]-=r[0],n[Y]+=r[2],n[h]+=r[0]+r[2]),n},Xi=async(e,t=!1)=>{var r=await Oa(t),l=r[h],r=r[f],n=await Ci(e,t),a=Pt({hMiddle:NaN,vMiddle:NaN},bt(e.Ze));return a.y/=l,a[y]/=l,a[Y]/=l,a[h]/=l,a.x/=r,a[k]/=r,a[w]/=r,a[f]/=r,a.hMiddle=(a[k]+a[w])/2,a.vMiddle=(a[y]+a[Y])/2,{isIntersecting:null!=(l=e.Ve)?l:n[0]===G,targetBounds:e.Ze,rootBounds:e.Ge,views:n,relative:a}},Ci=async(u,s,v)=>{if(!u.Ve){let e=v?await Ui(v,s,u.qe):u.Ge,t=u.Ze,r=e[k]-t[k],l=t[w]-e[w],n=e[y]-t[y],a=t[Y]-e[Y],i=null,o=null;if(0<r&&0<l?i=l<r?w:k:0<r?i=w:0<l&&(i=k),0<n&&0<a?o=a<n?K:V:0<n?o=K:0<a&&(o=V),i&&o)return[i,o];if(i)return[i];if(o)return[o];if(!u.Ke){var c=Kn(null!=v?v:u.L);if(c)return Ci(u,s,c)}}return[G]},ji=(e,t)=>{var r=null!=(r=null==t?void 0:t.relative)?r:{},r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,[f]:r[f],[h]:r[h],hMiddle:r.hMiddle,vMiddle:r.vMiddle};xl(e,r,{g:"r-",k:4})},Ai=async(e,t)=>{if(L(t))return t;var r;if(ut(t))return r=Yi(e,t),ya(r);throw z("'target' must be an offset string or an HTMLElement | SVGElement | MathMLElement")},Yi=(e,t)=>{let{reference:r,value:l}=(e=>{var t=e.match(Di);if(!t)throw z(`Invalid offset: '${e}'`);var r=t[1],t=t[2];if(r&&t)return{reference:r,value:t};throw vr("Offset regex: blank capture groups")})(t),n;if(r===y||r===Y)n=f;else{if(r!==k&&r!==w)throw z(`Invalid offset reference: '${r}'`);n=h}return{parent:ft(e)?e:void 0,style:{[r]:l,[n]:"100%"}}},Zi=(e,t,r)=>e.invoke(t,P(r)).catch(C),qi=Object.freeze({__proto__:null,DOMWatcher:Yl,GestureWatcher:Wn,LayoutWatcher:class Gi{static create(e){return new Gi(Qa(e),qa)}static reuse(e){let t,r=Qa(e),l=Pr(Wr(r,{O:null})),n=null==(t=Ga.get(r.O))?void 0:t.get(l);return n||(n=new Gi(r,qa),Ga.sGet(r.O).set(l,n)),n}constructor(e,t){if(t!==qa)throw cr("LayoutWatcher.create");let v=0,c={device:null,aspectRatio:null},d=F(),i=async()=>(await r,P(c)),r=(async()=>{let{root:l,overlays:n}=await ei(e.O,e.Me,e.Se);return B(u=>{let s=!1;var e,t={root:l,rootMargin:"5px 0% 5px -100%"},r=or(e=>{var t,r=H(e);s||r<An&&tl(vr(`Got IntersectionObserver ${r}, `+"expected >= "+An));for(t of e)v=ri(v,t);var r=!s,l=zt(Xt(v&Cn.bitmask)),n=zt(Xt(v&jn.bitmask)),a={device:null,aspectRatio:null};if(l!==-b&&(a.device=Cn.nameOf(1<<l)),n!==-b&&(a.aspectRatio=jn.nameOf(1<<n)),!r)for(var i of d.values()){var o=i.Je;ti(o,a,c)&&li(i.U,a)}c=a,s=!0,u()},t);for(e of n)r.observe(e)})})();this.fetchCurrentLayout=i,this.onLayout=async(e,t)=>{var r,l,n=t,n=Zn("devices",null==n?void 0:n.devices,Cn)|Zn("aspectRatios",null==n?void 0:n.aspectRatios,jn)||Cn.bitmask|jn.bitmask,a=(r=e,a=n,I(null==(l=d.get(r))?void 0:l.U),(l=X(r)).onRemove(()=>{var e=r;R(d,e)}),d.set(r,{U:l,Je:a}),l);null!=t&&t.skipInitial||(l=await i(),!a.isRemoved()&&ti(n,l,null)&&await li(a,l))},this.offLayout=e=>{var t;I(null==(t=d.get(e))?void 0:t.U)}}},PointerWatcher:class Vi{static create(e){return new Vi(ui(e),ii)}static reuse(e){let t=ui(e),r=Pr(t),l=oi.get(r);return l||(l=new Vi(t,ii),oi.set(r,l)),l}constructor(c,e){if(e!==ii)throw cr("PointerWatcher.create");let n=Xl(()=>F()),d=(e,t)=>{I(null==(r=n.get(e))?void 0:r.get(t));var r=X(t);return r.onRemove(()=>{R(n.get(e),t)}),n.sGet(e).set(t,r),r};this.onPointer=async(e,t,r,l)=>{var n,a,i=c,o=l,u={Qe:Br("actions",null==o?void 0:o.actions,ni)||ai,V:null!=(a=null==o?void 0:o.preventDefault)?a:i.V,Ee:null!=(a=null==o?void 0:o.preventSelect)?a:i.Ee},s=d(e,t),v=r&&r!==t?d(e,r):s;for(n of u.Qe)vi[n](e,s,v,u)},this.offPointer=(e,t,r)=>{var l=n.get(e);I(null==l?void 0:l.get(t)),r&&I(null==l?void 0:l.get(r))}}},ScrollWatcher:di,SizeWatcher:Fa,ViewWatcher:class Ki{static create(e){return new Ki(Hi(e),Li)}static reuse(e){let t,r=Hi(e),l=Pr(Wr(r,{O:null})),n=null==(t=Ni.get(r.O))?void 0:t.get(l);return n||(n=new Ki(r,Li),Ni.sGet(r.O).set(l,n)),n}constructor(w,e){if(e!==Li)throw cr("ViewWatcher.create");let p=nr(),a=Xl(()=>F()),t={root:w.O,threshold:w.xe,rootMargin:w.Ae},u=new Oi(e=>{for(var t of e)n(t)},t),_=(e,r=!1)=>{let n=async e=>{var t=await zi(w,e,r);return Xi(t,r)};return r?n(e):B(r=>{let l=or(e=>{var t=n(e[0]);l.disconnect(),t.then(r)},t);l.observe(e)})},b=(e,t,r)=>{var l=t.ge,n=(I(null==(n=a.get(l))||null==(n=n.get(e))?void 0:n.U),X(e));return n.onRemove(()=>{i(e,t)}),a.sGet(l).set(e,{U:n,Oe:r,B:t}),n},l=async(e,t,r,l)=>{var n=await Ii(w.O,e,r),a=n.ge,i=b(t,n,l);await Rl();let o=await _(a);0===o.rootBounds[f]&&0===o.rootBounds[h]&&(await al().then(nl).then(al),o=await _(a)),l===$i&&await s(n,i,o),i.isRemoved()||(u.observeLater(a),null!=r&&r.skipInitial)||Fi(o.views)&n.Ye&&await Zi(i,a,o)},r=async(e,t,r)=>{var l=(await Ii(w.O,e,{})).ge,n=null==(n=a.get(l))?void 0:n.get(t);(null==n?void 0:n.Oe)===r&&(I(n.U),t===ji)&&ji(l,null)},i=(e,t)=>{var r=t.ge;R(a.get(r),e),a.prune(r),a.has(r)||(u.unobserve(r),R(p,r))},n=async e=>{var t=er(e),r=await zi(w,e),l=await Xi(r),n=Fi(l.views);for(let e of(null==(r=a.get(t))?void 0:r.values())||[])n&e.B.Ye&&Zi(e.U,t,l)},s=async(a,i,e)=>{let o=a.ge,u=Fa.reuse(),s=di.reuse(),v=0===a.te,c=Yl.create({root:o,subtree:!1}),d=!1,f=null,h=await Ri(o,v),t;i.isRemoved()||(t=b((e,t)=>{if(t.views[0]===G){if(!d){d=!0;var r,l,n=X(async()=>{var e=p.get(o),t=await _(o,v);Bi(t,e)&&(p.set(o,t),d)&&!i.isRemoved()&&await Zi(i,o,t)});i.onRemove(n.remove),f=n.remove,c.onMutation(n,{categories:[le],skipInitial:!0}),u.onResize(n,{target:o,debounceWindow:a.te,threshold:a.Te,skipInitial:!0}),u.onResize(n,{target:null!=(r=w.O)?r:Ge(),debounceWindow:a.te,threshold:a.Te,skipInitial:!0});for(l of h)s.onScroll(n,{scrollable:l,debounceWindow:a.te,threshold:a.je,skipInitial:!0})}}else f&&(d=!1,f(),f=null)},It(a,{Ye:Wi.bitmask}),Pi),i.onRemove(t.remove),p.set(o,e),t.isRemoved())||Zi(t,o,e)};this.fetchCurrentView=(e,t=!1)=>Ai(w.O,e).then(e=>_(e,t)),this.trackView=(e,t,r)=>(t=t||ji,l(e,t,r,$i)),this.noTrackView=(e,t)=>{t=t||ji,r(e,t,$i)},this.onView=(e,t,r)=>l(e,t,r,Pi),this.offView=(e,t)=>r(e,t,Pi)}}});U.autoWidgets=!0;export{U as settings,qi as watchers};