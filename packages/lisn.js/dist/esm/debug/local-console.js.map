{"version":3,"file":"local-console.js","names":["MC","MH","joinAsString","LocalConsole","_createClass","_classCallCheck","_defineProperty","debug","isiOS","iOSlog","isJest","jestLog","consoleDebug","log","consoleLog","info","consoleInfo","warn","consoleWarn","error","consoleError","includes","USER_AGENT","_len","arguments","length","args","Array","_key","apply","concat","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6"],"sources":["../../../src/ts/debug/local-console.ts"],"sourcesContent":["/**\n * @module Debugging\n */\n\nimport * as MC from \"@lisn/globals/minification-constants\";\nimport * as MH from \"@lisn/globals/minification-helpers\";\n\nimport { LogFunction } from \"@lisn/globals/types\";\n\nimport { joinAsString } from \"@lisn/utils/text\";\n\nimport { LevelName, ConsoleInterface } from \"@lisn/debug/types\";\n\n/**\n * Logs to the local browser console. On iOS devices it uses `console.info` for\n * all levels because of a bug in WebKit whereby other log levels don't show in\n * some remote debuggers. Also, iOS console only supports a single argument, so\n * it joins the given arguments as a single string.\n *\n * @category Logging\n */\nexport class LocalConsole implements ConsoleInterface {\n  readonly debug: LogFunction;\n  readonly log: LogFunction;\n  readonly info: LogFunction;\n  readonly warn: LogFunction;\n  readonly error: LogFunction;\n\n  constructor() {\n    this.debug = isiOS ? iOSlog : isJest ? jestLog.debug : MH.consoleDebug;\n    this.log = isiOS ? iOSlog : isJest ? jestLog.log : MH.consoleLog;\n    this.info = isiOS ? iOSlog : isJest ? jestLog.info : MH.consoleInfo;\n    this.warn = isiOS ? iOSlog : isJest ? jestLog.warn : MH.consoleWarn;\n    this.error = isiOS ? iOSlog : isJest ? jestLog.error : MH.consoleError;\n  }\n}\n\n// ------------------------------\n\nconst isiOS = MH.includes(MC.USER_AGENT, \"iPhone OS\") || false;\nconst iOSlog: LogFunction = (...args) =>\n  MH.consoleInfo(joinAsString(\" \", ...args));\n\nconst isJest = MH.includes(MC.USER_AGENT, \" jsdom/\") || false;\nconst jestLog: Record<LevelName, LogFunction> = {\n  debug: (...args) => MH.consoleDebug(joinAsString(\" \", ...args)),\n  log: (...args) => MH.consoleLog(joinAsString(\" \", ...args)),\n  info: (...args) => MH.consoleInfo(joinAsString(\" \", ...args)),\n  warn: (...args) => MH.consoleWarn(joinAsString(\" \", ...args)),\n  error: (...args) => MH.consoleError(joinAsString(\" \", ...args)),\n};\n"],"mappings":"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","ignoreList":[]}