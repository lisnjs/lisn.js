{"version":3,"file":"local-console.cjs","names":["MC","_interopRequireWildcard","require","MH","_text","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","o","Symbol","iterator","constructor","prototype","_defineProperties","length","enumerable","configurable","writable","_toPropertyKey","key","_createClass","_classCallCheck","TypeError","_defineProperty","value","_toPrimitive","toPrimitive","String","Number","LocalConsole","exports","debug","isiOS","iOSlog","isJest","jestLog","consoleDebug","log","consoleLog","info","consoleInfo","warn","consoleWarn","error","consoleError","includes","USER_AGENT","_len","arguments","args","Array","_key","joinAsString","apply","concat","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6"],"sources":["../../../src/ts/debug/local-console.ts"],"sourcesContent":["/**\n * @module Debugging\n */\n\nimport * as MC from \"@lisn/globals/minification-constants\";\nimport * as MH from \"@lisn/globals/minification-helpers\";\n\nimport { LogFunction } from \"@lisn/globals/types\";\n\nimport { joinAsString } from \"@lisn/utils/text\";\n\nimport { LevelName, ConsoleInterface } from \"@lisn/debug/types\";\n\n/**\n * Logs to the local browser console. On iOS devices it uses `console.info` for\n * all levels because of a bug in WebKit whereby other log levels don't show in\n * some remote debuggers. Also, iOS console only supports a single argument, so\n * it joins the given arguments as a single string.\n *\n * @category Logging\n */\nexport class LocalConsole implements ConsoleInterface {\n  readonly debug: LogFunction;\n  readonly log: LogFunction;\n  readonly info: LogFunction;\n  readonly warn: LogFunction;\n  readonly error: LogFunction;\n\n  constructor() {\n    this.debug = isiOS ? iOSlog : isJest ? jestLog.debug : MH.consoleDebug;\n    this.log = isiOS ? iOSlog : isJest ? jestLog.log : MH.consoleLog;\n    this.info = isiOS ? iOSlog : isJest ? jestLog.info : MH.consoleInfo;\n    this.warn = isiOS ? iOSlog : isJest ? jestLog.warn : MH.consoleWarn;\n    this.error = isiOS ? iOSlog : isJest ? jestLog.error : MH.consoleError;\n  }\n}\n\n// ------------------------------\n\nconst isiOS = MH.includes(MC.USER_AGENT, \"iPhone OS\") || false;\nconst iOSlog: LogFunction = (...args) =>\n  MH.consoleInfo(joinAsString(\" \", ...args));\n\nconst isJest = MH.includes(MC.USER_AGENT, \" jsdom/\") || false;\nconst jestLog: Record<LevelName, LogFunction> = {\n  debug: (...args) => MH.consoleDebug(joinAsString(\" \", ...args)),\n  log: (...args) => MH.consoleLog(joinAsString(\" \", ...args)),\n  info: (...args) => MH.consoleInfo(joinAsString(\" \", ...args)),\n  warn: (...args) => MH.consoleWarn(joinAsString(\" \", ...args)),\n  error: (...args) => MH.consoleError(joinAsString(\" \", ...args)),\n};\n"],"mappings":"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","ignoreList":[]}