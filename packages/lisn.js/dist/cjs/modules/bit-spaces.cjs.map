{"version":3,"file":"bit-spaces.cjs","names":["MH","_interopRequireWildcard","require","_math","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","o","Symbol","iterator","constructor","prototype","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","done","value","f","TypeError","next","_arrayLikeToArray","toString","slice","name","from","test","_defineProperties","enumerable","configurable","writable","_toPropertyKey","key","_createClass","_classCallCheck","_defineProperty","_toPrimitive","toPrimitive","String","Number","BitSpaces","exports","counter","newCounter","create","_len","arguments","propNames","_key","newBitSpace","_nBits","_bitmask","newBitSpaces","createBitSpace","spaces","_len2","_key2","apply","start","end","lengthOf","usageError","bitmask","getBitmask","space","bit","p","isString","isNumber","bitmaskFor","pStart","pEnd","isEmpty","thisStart","log2","thisEnd","nameOf","val","_propNames","_iterator","_step","err"],"sources":["../../../src/ts/modules/bit-spaces.ts"],"sourcesContent":["/**\n * @module Modules/BitSpaces\n */\n\nimport * as MH from \"@lisn/globals/minification-helpers\";\n\nimport { getBitmask } from \"@lisn/utils/math\";\n\nexport type BitPropName = string;\n\n/**\n * A union of all property names in the space.\n */\nexport type BitSpaceKey<S> = S extends BitSpace<infer T> ? T : never;\n\n/**\n * {@link BitSpace} represents a single set of mutually exclusive (or\n * orthogonal) properties.\n *\n * Each property has a numeric value equal to 1 bit-shifted by a certain number\n * of bits.\n *\n * Created using {@link BitSpaces.create}\n *\n * @interface\n */\nexport type BitSpace<T extends BitPropName> = {\n  /**\n   * The starting bit of the space. It's 0 for the first space created in a\n   * given set of {@link BitSpaces}.\n   */\n  start: number;\n\n  /**\n   * The ending bit of the space. It's always equal to\n   * start + (# of properties in space) - 1\n   */\n  end: number;\n\n  /**\n   * A bitmask of all values in the space.\n   */\n  bitmask: number;\n\n  /**\n   * Returns true if the given name is one of the properties in the space.\n   * It is case-sensitive.\n   */\n  has: (p: string) => p is T;\n\n  /**\n   * Takes the names of two properties within the space and returns a bitmask\n   * that covers all values between them _including the starting and ending\n   * one_.*\n   *\n   * If pStart > pEnd, they are reversed.\n   *\n   * * The numeric values of the properties are guaranteed to be in the same\n   *   order, increasing in value, as the keys passed to the `BitSpaces.create`,\n   *   function.\n   *\n   * @param {} pStart  The name of the property that holds the start value.\n   *                   If null the bitmask will cover from the lowest property.\n   * @param {} pEnd    The name of the property that holds the end cut-off\n   *                   value for the bitmask. The bitmask with _not_ include\n   *                   pEnd's value.\n   *                   If null the bitmask will cover to the highest property,\n   *                   _including_.\n   *\n   * @returns {} Returns a non-0 bitmask containing all values in the space\n   *             between the given ones.\n   *             Returns 0 if one or both of the given properties do not exist\n   *             in the space.\n   */\n  bitmaskFor: (pStart?: T | null, pEnd?: T | null) => number;\n\n  /**\n   * Returns the name of the property with the given value, or null if the\n   * value does not correspond to one of the space properties.\n   */\n  nameOf: (val: number) => T | null;\n\n  /**\n   * Holds properties whose numeric values are non-overlapping binary values,\n   * suitable for bitmasking.\n   *\n   * The given properties are set under the \"bit\" key in the object and hold\n   * the numeric value.\n   *\n   * @example\n   * ```javascript\n   * const space = new BitSpaces().create(\"up\", \"down\", \"left\", \"right\");\n   *\n   * // {\n   * //     bit: {\n   * //         up:    1, // at bit 0, i.e. 1 << 0\n   * //         down:  2, // at bit 1, i.e. 1 << 1\n   * //         left:  4, // at bit 2, i.e. 1 << 2\n   * //         right: 8, // at bit 3, i.e. 1 << 3\n   * //     },\n   * //     start:      0,\n   * //     end:        3,\n   * //     bitmask:    15, // 1 << 0 | 1 << 1 | 1 << 2 | 1 << 3\n   * //     has:        (p) => p === \"up\" || p === \"down\" || p === \"left\" || p === \"right\",\n   * //     bitmaskFor: (pStart, pEnd) => ...\n   * //     nameOf:     (v) => v === 1 ? \"up\" : v === 2 ? \"down\" : v === 4 ...\n   * // }\n   *\n   * space.bitmaskFor(); // => space.bitmask (15)\n   * space.bitmaskFor(\"left\"); // => space.bit.left | space.bit.right (12)\n   * space.bitmaskFor(null, \"down\"); // => space.bit.up | space.bit.down (3)\n   * ```\n   */\n  bit: {\n    [key in T]: number;\n  };\n};\n\n/**\n * {@link BitSpaces} represents one or more related {@link BitSpace}s whose bit\n * values will not overlap.\n */\nexport class BitSpaces {\n  /**\n   * Creates and returns a new BitSpace that is bit shifted to the left as\n   * many bits as the ending bit of the previous space created by this\n   * instances, so that each new space created is non-overlapping with previous\n   * ones.\n   *\n   * The numeric values of the properties are guaranteed to be in the same\n   * order, increasing in value, as the keys passed to the function.\n   *\n   * @throws {@link Errors.LisnUsageError | LisnUsageError}\n   *                If the number of bits in the space will exceed 32.\n   *\n   * @example\n   * ```javascript\n   * const spaces = new BitSpaces();\n   * const spaceA = spaces.create(\"up\", \"down\");\n   *\n   * // spaces.nBits   => 2\n   * // spaces.bitmask => 3\n   * //\n   * // spaceA:\n   * // {\n   * //     bit: {\n   * //         up:     1, // at bit 0, i.e. 1 << 0\n   * //         down:   2, // at bit 1, i.e. 1 << 1\n   * //     },\n   * //     start:      0,\n   * //     end:        1,\n   * //     bitmask:    3, // 1 << 0 | 1 << 1\n   * //     has:        (p) => p === \"up\" || p === \"down\",\n   * //     bitmaskFor: (pStart, pEnd) => ...\n   * //     nameOf:     (v) => v === 1 ? \"up\" : v === 2 ? \"down\" : null\n   * // }\n   *\n   * const spaceB = spaces.create(\"left\", \"right\");\n   *\n   * // spaces.nBits   => 4\n   * // spaces.bitmask => 15\n   * //\n   * // spaceB:\n   * // {\n   * //     bit: {\n   * //         left:   4, // at bit 2, i.e. 1 << 2\n   * //         right:  8, // at bit 3, i.e. 1 << 3\n   * //     },\n   * //     start:      2,\n   * //     end:        3,\n   * //     bitmask:    12, // 1 << 2 | 1 << 3\n   * //     has:        (p) => p === \"left\" || p === \"right\",\n   * //     bitmaskFor: (pStart, pEnd) => ...\n   * //     nameOf:     (v) => v === 4 ? \"left\" : v === 8 ? \"right\" : null\n   * // }\n   *\n   * ```\n   */\n  readonly create: <T extends BitPropName>(\n    ...propNames: readonly T[]\n  ) => BitSpace<T>;\n\n  /**\n   * Returns the number of bits all created spaces span, i.e. the end bit of\n   * the one + 1.\n   */\n  readonly nBits!: number;\n\n  /**\n   * Returns a bitmask containing all values in all created spaces.\n   */\n  readonly bitmask!: number;\n\n  constructor() {\n    const counter = newCounter();\n\n    this.create = (...propNames) => newBitSpace(counter, propNames);\n    MH.defineProperty(this, \"nBits\", { get: () => counter._nBits });\n    MH.defineProperty(this, \"bitmask\", { get: () => counter._bitmask });\n  }\n}\n\n/**\n * For minification optimization\n *\n * @ignore\n * @internal\n */\nexport const newBitSpaces = () => new BitSpaces();\n\n/**\n * For minification optimization\n *\n * @ignore\n * @internal\n */\nexport const createBitSpace = <T extends BitPropName>(\n  spaces: BitSpaces,\n  ...propNames: readonly T[]\n): BitSpace<T> => spaces.create(...propNames);\n\n// ----------------------------------------\n\ntype BitCounter = {\n  _nBits: number;\n  _bitmask: number;\n};\n\nconst newCounter = (): BitCounter => ({\n  _nBits: 0,\n  _bitmask: 0,\n});\n\nconst newBitSpace = <T extends BitPropName>(\n  counter: BitCounter,\n  propNames: readonly T[],\n): BitSpace<T> => {\n  const start = counter._nBits;\n  const end = start + MH.lengthOf(propNames) - 1;\n  if (end >= 31) {\n    throw MH.usageError(\"BitSpaces overflow\");\n  }\n\n  const bitmask = getBitmask(start, end);\n  const space: BitSpace<T> = {\n    bit: {},\n    start,\n    end,\n    bitmask,\n\n    has: (p) =>\n      MH.isString(p) &&\n      p in space.bit &&\n      MH.isNumber((space.bit as Record<string, unknown>)[p]),\n\n    bitmaskFor: (pStart, pEnd) => {\n      if (\n        (!MH.isEmpty(pStart) && !space.has(pStart)) ||\n        (!MH.isEmpty(pEnd) && !space.has(pEnd))\n      ) {\n        return 0;\n      }\n\n      const thisStart = !MH.isEmpty(pStart)\n        ? MH.log2(space.bit[pStart])\n        : start;\n      const thisEnd = !MH.isEmpty(pEnd) ? MH.log2(space.bit[pEnd]) : end;\n\n      return getBitmask(thisStart, thisEnd);\n    },\n\n    nameOf: (val) => propNames[MH.log2(val) - start] ?? null,\n  } as BitSpace<T>;\n\n  for (const name of propNames) {\n    MH.defineProperty(space.bit, name, {\n      value: 1 << counter._nBits++,\n      enumerable: true,\n    });\n  }\n\n  counter._bitmask |= bitmask;\n\n  return space;\n};\n"],"mappings":"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","ignoreList":[]}