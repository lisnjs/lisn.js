{"version":3,"file":"OpenableComponent.cjs","names":["_typeof","o","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","PopupTriggerComponent","PopupComponent","OffcanvasTriggerComponent","OffcanvasComponent","ModalTriggerComponent","ModalComponent","CollapsibleTriggerComponent","CollapsibleComponent","_react","require","_lisn","_useWidget","_util","_excluded","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","ownKeys","e","r","t","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","n","indexOf","propertyIsEnumerable","hasOwnProperty","_ref","config","widgetRef","props","elementRef","useOpenable","newCollapsible","createOpenableElement","name","element","HTMLElement","Collapsible","assign","triggers","getElementsFromRefs","_ref2","newPopup","Popup","_ref3","newModal","Modal","_ref4","newOffcanvas","Offcanvas","allProps","TriggerComponent","_ref5","as","children","contentId","configStr","prop","createElement","concat","newWidget","useWidget","useEffect","current","Element","classList","remove","_ref7","className","baseProps","ref","join"],"sources":["../../src/OpenableComponent.tsx"],"sourcesContent":["\"use client\";\nimport {\n  useEffect,\n  createElement,\n  ElementType,\n  RefObject,\n  ComponentRef,\n  ComponentPropsWithoutRef,\n} from \"react\";\n\nimport {\n  Collapsible,\n  CollapsibleConfig,\n  Popup,\n  PopupConfig,\n  Modal,\n  ModalConfig,\n  Offcanvas,\n  OffcanvasConfig,\n  OpenableTriggerConfig,\n  Openable,\n} from \"lisn.js\";\n\nimport { useWidget } from \"./useWidget\";\nimport { getElementsFromRefs } from \"./util\";\nimport {\n  WidgetComponentRef,\n  WidgetComponentProps,\n  GenericComponentProps,\n} from \"./types\";\n\nexport type CollapsibleComponentRef = WidgetComponentRef<Collapsible>;\n\nexport type CollapsibleComponentConfig = Omit<CollapsibleConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type CollapsibleComponentProps<T extends ElementType> =\n  WidgetComponentProps<T, Collapsible, CollapsibleComponentConfig> & {\n    contentId?: string;\n  };\n\nexport const CollapsibleComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: CollapsibleComponentProps<T>) => {\n  const elementRef = useOpenable<T, Collapsible, CollapsibleComponentConfig>(\n    newCollapsible,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"collapsible\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newCollapsible = (\n  element: Element,\n  config?: CollapsibleComponentConfig,\n) =>\n  element instanceof HTMLElement\n    ? new Collapsible(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type PopupComponentRef = WidgetComponentRef<Popup>;\n\nexport type PopupComponentConfig = Omit<PopupConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type PopupComponentProps<T extends ElementType> = WidgetComponentProps<\n  T,\n  Popup,\n  PopupComponentConfig\n> & { contentId?: string };\n\nexport const PopupComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: PopupComponentProps<T>) => {\n  const elementRef = useOpenable<T, Popup, PopupComponentConfig>(\n    newPopup,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"popup\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newPopup = (element: Element, config?: PopupComponentConfig) =>\n  element instanceof HTMLElement\n    ? new Popup(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type ModalComponentRef = WidgetComponentRef<Modal>;\n\nexport type ModalComponentConfig = Omit<ModalConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type ModalComponentProps<T extends ElementType> = WidgetComponentProps<\n  T,\n  Modal,\n  ModalComponentConfig\n> & { contentId?: string };\n\nexport const ModalComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: ModalComponentProps<T>) => {\n  const elementRef = useOpenable<T, Modal, ModalComponentConfig>(\n    newModal,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"modal\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newModal = (element: Element, config?: ModalComponentConfig) =>\n  element instanceof HTMLElement\n    ? new Modal(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type OffcanvasComponentRef = WidgetComponentRef<Offcanvas>;\n\nexport type OffcanvasComponentConfig = Omit<OffcanvasConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type OffcanvasComponentProps<T extends ElementType> =\n  WidgetComponentProps<T, Offcanvas, OffcanvasComponentConfig> & {\n    contentId?: string;\n  };\n\nexport const OffcanvasComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: OffcanvasComponentProps<T>) => {\n  const elementRef = useOpenable<T, Offcanvas, OffcanvasComponentConfig>(\n    newOffcanvas,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"offcanvas\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newOffcanvas = (element: Element, config?: OffcanvasComponentConfig) =>\n  element instanceof HTMLElement\n    ? new Offcanvas(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type OpenableTriggerComponentConfig = OpenableTriggerConfig;\n\nexport type OpenableTriggerComponentProps<T extends ElementType> =\n  GenericComponentProps<T> & {\n    as?: T;\n    config?: OpenableTriggerComponentConfig;\n    contentId?: string;\n  };\n\nexport const CollapsibleTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"collapsible\",\n    ...allProps,\n  });\n\nexport const PopupTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"popup\",\n    ...allProps,\n  });\n\nexport const ModalTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"modal\",\n    ...allProps,\n  });\n\nexport const OffcanvasTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"offcanvas\",\n    ...allProps,\n  });\n\nconst TriggerComponent = <T extends ElementType = \"div\">({\n  name,\n  as,\n  children,\n  config,\n  contentId,\n  ...props\n}: OpenableTriggerComponentProps<T> & { name: string }) => {\n  // Since a trigger config object can only be passed as part of the widget\n  // configuration (in a trigger map) and that is created in another component,\n  // we have to use data attributes to pass the config.\n  let configStr = \"\";\n  let prop: keyof OpenableTriggerConfig;\n  config = config || {};\n  for (prop in config) {\n    configStr += (configStr ? \"|\" : \"\") + prop + \"=\" + String(config[prop]);\n  }\n\n  return createElement(\n    as || \"div\",\n    {\n      [`data-lisn-${name}-trigger`]: configStr,\n      ...(contentId ? { [`data-lisn-${name}-content-id`]: contentId } : {}),\n      ...props,\n    },\n    children,\n  );\n};\n\n// --------------------\n\nconst useOpenable = <\n  T extends ElementType,\n  W extends Openable,\n  C extends object,\n>(\n  newWidget: (element: Element, config?: C) => W | null,\n  config?: C,\n  widgetRef?: RefObject<WidgetComponentRef<W>>,\n) => {\n  const elementRef = useWidget<T, W, C>(newWidget, config, widgetRef);\n\n  useEffect(() => {\n    const element = elementRef.current;\n    if (element instanceof Element) {\n      element.classList.remove(\"lisn-undisplay\");\n    }\n  }, [elementRef]);\n\n  return elementRef;\n};\n\ntype OpenableProps<T extends ElementType> = {\n  name: string;\n  elementRef: RefObject<ComponentRef<T> | null>;\n  as?: T;\n  contentId?: string;\n} & ComponentPropsWithoutRef<T>;\n\nconst createOpenableElement = <T extends ElementType = \"div\">({\n  name,\n  as,\n  contentId,\n  elementRef,\n  className,\n  children,\n  ...baseProps\n}: OpenableProps<T>) => {\n  return createElement(\n    as || \"div\",\n    {\n      ref: elementRef,\n      ...(contentId ? { [`data-lisn-${name}-content-id`]: contentId } : {}),\n      className: [className ?? \"\", \"lisn-undisplay\"].join(\" \"),\n      ...baseProps,\n    },\n    children,\n  );\n};\n"],"mappings":";AAAA,YAAY;;AAAC,SAAAA,QAAAC,CAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,CAAA,kBAAAA,CAAA,gBAAAA,CAAA,WAAAA,CAAA,yBAAAC,MAAA,IAAAD,CAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,CAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,CAAA,KAAAD,OAAA,CAAAC,CAAA;AAAAK,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,qBAAA,GAAAF,OAAA,CAAAG,cAAA,GAAAH,OAAA,CAAAI,yBAAA,GAAAJ,OAAA,CAAAK,kBAAA,GAAAL,OAAA,CAAAM,qBAAA,GAAAN,OAAA,CAAAO,cAAA,GAAAP,OAAA,CAAAQ,2BAAA,GAAAR,OAAA,CAAAS,oBAAA;AACb,IAAAC,MAAA,GAAAC,OAAA;AASA,IAAAC,KAAA,GAAAD,OAAA;AAaA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAA6C,IAAAI,SAAA;EAAAC,UAAA;EAAAC,UAAA;EAAAC,UAAA;EAAAC,UAAA;EAAAC,UAAA;AAAA,SAAAC,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAA1B,MAAA,CAAA2B,IAAA,CAAAH,CAAA,OAAAxB,MAAA,CAAA4B,qBAAA,QAAAjC,CAAA,GAAAK,MAAA,CAAA4B,qBAAA,CAAAJ,CAAA,GAAAC,CAAA,KAAA9B,CAAA,GAAAA,CAAA,CAAAkC,MAAA,WAAAJ,CAAA,WAAAzB,MAAA,CAAA8B,wBAAA,CAAAN,CAAA,EAAAC,CAAA,EAAAM,UAAA,OAAAL,CAAA,CAAAM,IAAA,CAAAC,KAAA,CAAAP,CAAA,EAAA/B,CAAA,YAAA+B,CAAA;AAAA,SAAAQ,cAAAV,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAU,SAAA,CAAAC,MAAA,EAAAX,CAAA,UAAAC,CAAA,WAAAS,SAAA,CAAAV,CAAA,IAAAU,SAAA,CAAAV,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAvB,MAAA,CAAA0B,CAAA,OAAAW,OAAA,WAAAZ,CAAA,IAAAa,eAAA,CAAAd,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAzB,MAAA,CAAAuC,yBAAA,GAAAvC,MAAA,CAAAwC,gBAAA,CAAAhB,CAAA,EAAAxB,MAAA,CAAAuC,yBAAA,CAAAb,CAAA,KAAAH,OAAA,CAAAvB,MAAA,CAAA0B,CAAA,GAAAW,OAAA,WAAAZ,CAAA,IAAAzB,MAAA,CAAAC,cAAA,CAAAuB,CAAA,EAAAC,CAAA,EAAAzB,MAAA,CAAA8B,wBAAA,CAAAJ,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AAAA,SAAAc,gBAAAd,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAgB,cAAA,CAAAhB,CAAA,MAAAD,CAAA,GAAAxB,MAAA,CAAAC,cAAA,CAAAuB,CAAA,EAAAC,CAAA,IAAAtB,KAAA,EAAAuB,CAAA,EAAAK,UAAA,MAAAW,YAAA,MAAAC,QAAA,UAAAnB,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAiB,eAAAf,CAAA,QAAAkB,CAAA,GAAAC,YAAA,CAAAnB,CAAA,gCAAAhC,OAAA,CAAAkD,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAnB,CAAA,EAAAD,CAAA,oBAAA/B,OAAA,CAAAgC,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAA9B,MAAA,CAAAkD,WAAA,kBAAAtB,CAAA,QAAAoB,CAAA,GAAApB,CAAA,CAAAuB,IAAA,CAAArB,CAAA,EAAAD,CAAA,gCAAA/B,OAAA,CAAAkD,CAAA,UAAAA,CAAA,YAAAI,SAAA,yEAAAvB,CAAA,GAAAwB,MAAA,GAAAC,MAAA,EAAAxB,CAAA;AAAA,SAAAyB,yBAAA3B,CAAA,EAAAE,CAAA,gBAAAF,CAAA,iBAAA7B,CAAA,EAAA8B,CAAA,EAAAmB,CAAA,GAAAQ,6BAAA,CAAA5B,CAAA,EAAAE,CAAA,OAAA1B,MAAA,CAAA4B,qBAAA,QAAAyB,CAAA,GAAArD,MAAA,CAAA4B,qBAAA,CAAAJ,CAAA,QAAAC,CAAA,MAAAA,CAAA,GAAA4B,CAAA,CAAAjB,MAAA,EAAAX,CAAA,IAAA9B,CAAA,GAAA0D,CAAA,CAAA5B,CAAA,UAAAC,CAAA,CAAA4B,OAAA,CAAA3D,CAAA,QAAA4D,oBAAA,CAAAR,IAAA,CAAAvB,CAAA,EAAA7B,CAAA,MAAAiD,CAAA,CAAAjD,CAAA,IAAA6B,CAAA,CAAA7B,CAAA,aAAAiD,CAAA;AAAA,SAAAQ,8BAAA3B,CAAA,EAAAD,CAAA,gBAAAC,CAAA,iBAAAC,CAAA,gBAAA2B,CAAA,IAAA5B,CAAA,SAAA+B,cAAA,CAAAT,IAAA,CAAAtB,CAAA,EAAA4B,CAAA,gBAAA7B,CAAA,CAAA8B,OAAA,CAAAD,CAAA,aAAA3B,CAAA,CAAA2B,CAAA,IAAA5B,CAAA,CAAA4B,CAAA,YAAA3B,CAAA;AAkBtC,IAAMf,oBAAoB,GAAAT,OAAA,CAAAS,oBAAA,GAAG,SAAvBA,oBAAoBA,CAAA8C,IAAA,EAIG;EAAA,IAHlCC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,SAAS,GAAAF,IAAA,CAATE,SAAS;IACNC,KAAK,GAAAT,wBAAA,CAAAM,IAAA,EAAAxC,SAAA;EAER,IAAM4C,UAAU,GAAGC,WAAW,CAC5BC,cAAc,EACdL,MAAM,EACNC,SACF,CAAC;EAED,OAAOK,qBAAqB,CAAA9B,aAAA;IAC1B+B,IAAI,EAAE,aAAa;IACnBJ,UAAU,EAAVA;EAAU,GACPD,KAAK,CACW,CAAC;AACxB,CAAC;AAED,IAAMG,cAAc,GAAG,SAAjBA,cAAcA,CAClBG,OAAgB,EAChBR,MAAmC;EAAA,OAEnCQ,OAAO,YAAYC,WAAW,GAC1B,IAAIC,iBAAW,CACbF,OAAO,EACPlE,MAAM,CAACqE,MAAM,CAAC,CAAC,CAAC,EAAEX,MAAM,EAAE;IACxBY,QAAQ,EAAE,IAAAC,yBAAmB,EAACb,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEY,QAAQ;EAChD,CAAC,CACH,CAAC,GACD,IAAI;AAAA;;AAEV;;AAcO,IAAMjE,cAAc,GAAAH,OAAA,CAAAG,cAAA,GAAG,SAAjBA,cAAcA,CAAAmE,KAAA,EAIG;EAAA,IAH5Bd,MAAM,GAAAc,KAAA,CAANd,MAAM;IACNC,SAAS,GAAAa,KAAA,CAATb,SAAS;IACNC,KAAK,GAAAT,wBAAA,CAAAqB,KAAA,EAAAtD,UAAA;EAER,IAAM2C,UAAU,GAAGC,WAAW,CAC5BW,QAAQ,EACRf,MAAM,EACNC,SACF,CAAC;EAED,OAAOK,qBAAqB,CAAA9B,aAAA;IAC1B+B,IAAI,EAAE,OAAO;IACbJ,UAAU,EAAVA;EAAU,GACPD,KAAK,CACW,CAAC;AACxB,CAAC;AAED,IAAMa,QAAQ,GAAG,SAAXA,QAAQA,CAAIP,OAAgB,EAAER,MAA6B;EAAA,OAC/DQ,OAAO,YAAYC,WAAW,GAC1B,IAAIO,WAAK,CACPR,OAAO,EACPlE,MAAM,CAACqE,MAAM,CAAC,CAAC,CAAC,EAAEX,MAAM,EAAE;IACxBY,QAAQ,EAAE,IAAAC,yBAAmB,EAACb,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEY,QAAQ;EAChD,CAAC,CACH,CAAC,GACD,IAAI;AAAA;;AAEV;;AAcO,IAAM7D,cAAc,GAAAP,OAAA,CAAAO,cAAA,GAAG,SAAjBA,cAAcA,CAAAkE,KAAA,EAIG;EAAA,IAH5BjB,MAAM,GAAAiB,KAAA,CAANjB,MAAM;IACNC,SAAS,GAAAgB,KAAA,CAAThB,SAAS;IACNC,KAAK,GAAAT,wBAAA,CAAAwB,KAAA,EAAAxD,UAAA;EAER,IAAM0C,UAAU,GAAGC,WAAW,CAC5Bc,QAAQ,EACRlB,MAAM,EACNC,SACF,CAAC;EAED,OAAOK,qBAAqB,CAAA9B,aAAA;IAC1B+B,IAAI,EAAE,OAAO;IACbJ,UAAU,EAAVA;EAAU,GACPD,KAAK,CACW,CAAC;AACxB,CAAC;AAED,IAAMgB,QAAQ,GAAG,SAAXA,QAAQA,CAAIV,OAAgB,EAAER,MAA6B;EAAA,OAC/DQ,OAAO,YAAYC,WAAW,GAC1B,IAAIU,WAAK,CACPX,OAAO,EACPlE,MAAM,CAACqE,MAAM,CAAC,CAAC,CAAC,EAAEX,MAAM,EAAE;IACxBY,QAAQ,EAAE,IAAAC,yBAAmB,EAACb,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEY,QAAQ;EAChD,CAAC,CACH,CAAC,GACD,IAAI;AAAA;;AAEV;;AAaO,IAAM/D,kBAAkB,GAAAL,OAAA,CAAAK,kBAAA,GAAG,SAArBA,kBAAkBA,CAAAuE,KAAA,EAIG;EAAA,IAHhCpB,MAAM,GAAAoB,KAAA,CAANpB,MAAM;IACNC,SAAS,GAAAmB,KAAA,CAATnB,SAAS;IACNC,KAAK,GAAAT,wBAAA,CAAA2B,KAAA,EAAA1D,UAAA;EAER,IAAMyC,UAAU,GAAGC,WAAW,CAC5BiB,YAAY,EACZrB,MAAM,EACNC,SACF,CAAC;EAED,OAAOK,qBAAqB,CAAA9B,aAAA;IAC1B+B,IAAI,EAAE,WAAW;IACjBJ,UAAU,EAAVA;EAAU,GACPD,KAAK,CACW,CAAC;AACxB,CAAC;AAED,IAAMmB,YAAY,GAAG,SAAfA,YAAYA,CAAIb,OAAgB,EAAER,MAAiC;EAAA,OACvEQ,OAAO,YAAYC,WAAW,GAC1B,IAAIa,eAAS,CACXd,OAAO,EACPlE,MAAM,CAACqE,MAAM,CAAC,CAAC,CAAC,EAAEX,MAAM,EAAE;IACxBY,QAAQ,EAAE,IAAAC,yBAAmB,EAACb,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEY,QAAQ;EAChD,CAAC,CACH,CAAC,GACD,IAAI;AAAA;;AAEV;;AAWO,IAAM5D,2BAA2B,GAAAR,OAAA,CAAAQ,2BAAA,GAAG,SAA9BA,2BAA2BA,CACtCuE,QAA0C;EAAA,OAE1CC,gBAAgB,CAAAhD,aAAA;IACd+B,IAAI,EAAE;EAAa,GAChBgB,QAAQ,CACZ,CAAC;AAAA;AAEG,IAAM7E,qBAAqB,GAAAF,OAAA,CAAAE,qBAAA,GAAG,SAAxBA,qBAAqBA,CAChC6E,QAA0C;EAAA,OAE1CC,gBAAgB,CAAAhD,aAAA;IACd+B,IAAI,EAAE;EAAO,GACVgB,QAAQ,CACZ,CAAC;AAAA;AAEG,IAAMzE,qBAAqB,GAAAN,OAAA,CAAAM,qBAAA,GAAG,SAAxBA,qBAAqBA,CAChCyE,QAA0C;EAAA,OAE1CC,gBAAgB,CAAAhD,aAAA;IACd+B,IAAI,EAAE;EAAO,GACVgB,QAAQ,CACZ,CAAC;AAAA;AAEG,IAAM3E,yBAAyB,GAAAJ,OAAA,CAAAI,yBAAA,GAAG,SAA5BA,yBAAyBA,CACpC2E,QAA0C;EAAA,OAE1CC,gBAAgB,CAAAhD,aAAA;IACd+B,IAAI,EAAE;EAAW,GACdgB,QAAQ,CACZ,CAAC;AAAA;AAEJ,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAC,KAAA,EAOqC;EAAA,IANzDlB,IAAI,GAAAkB,KAAA,CAAJlB,IAAI;IACJmB,EAAE,GAAAD,KAAA,CAAFC,EAAE;IACFC,QAAQ,GAAAF,KAAA,CAARE,QAAQ;IACR3B,MAAM,GAAAyB,KAAA,CAANzB,MAAM;IACN4B,SAAS,GAAAH,KAAA,CAATG,SAAS;IACN1B,KAAK,GAAAT,wBAAA,CAAAgC,KAAA,EAAA9D,UAAA;EAER;EACA;EACA;EACA,IAAIkE,SAAS,GAAG,EAAE;EAClB,IAAIC,IAAiC;EACrC9B,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAC;EACrB,KAAK8B,IAAI,IAAI9B,MAAM,EAAE;IACnB6B,SAAS,IAAI,CAACA,SAAS,GAAG,GAAG,GAAG,EAAE,IAAIC,IAAI,GAAG,GAAG,GAAGvC,MAAM,CAACS,MAAM,CAAC8B,IAAI,CAAC,CAAC;EACzE;EAEA,OAAO,IAAAC,oBAAa,EAClBL,EAAE,IAAI,KAAK,EAAAlD,aAAA,CAAAA,aAAA,CAAAI,eAAA,kBAAAoD,MAAA,CAEKzB,IAAI,eAAasB,SAAS,GACpCD,SAAS,GAAAhD,eAAA,kBAAAoD,MAAA,CAAmBzB,IAAI,kBAAgBqB,SAAS,IAAK,CAAC,CAAC,GACjE1B,KAAK,GAEVyB,QACF,CAAC;AACH,CAAC;;AAED;;AAEA,IAAMvB,WAAW,GAAG,SAAdA,WAAWA,CAKf6B,SAAqD,EACrDjC,MAAU,EACVC,SAA4C,EACzC;EACH,IAAME,UAAU,GAAG,IAAA+B,oBAAS,EAAUD,SAAS,EAAEjC,MAAM,EAAEC,SAAS,CAAC;EAEnE,IAAAkC,gBAAS,EAAC,YAAM;IACd,IAAM3B,OAAO,GAAGL,UAAU,CAACiC,OAAO;IAClC,IAAI5B,OAAO,YAAY6B,OAAO,EAAE;MAC9B7B,OAAO,CAAC8B,SAAS,CAACC,MAAM,CAAC,gBAAgB,CAAC;IAC5C;EACF,CAAC,EAAE,CAACpC,UAAU,CAAC,CAAC;EAEhB,OAAOA,UAAU;AACnB,CAAC;AASD,IAAMG,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAAkC,KAAA,EAQH;EAAA,IAPtBjC,IAAI,GAAAiC,KAAA,CAAJjC,IAAI;IACJmB,EAAE,GAAAc,KAAA,CAAFd,EAAE;IACFE,SAAS,GAAAY,KAAA,CAATZ,SAAS;IACTzB,UAAU,GAAAqC,KAAA,CAAVrC,UAAU;IACVsC,SAAS,GAAAD,KAAA,CAATC,SAAS;IACTd,QAAQ,GAAAa,KAAA,CAARb,QAAQ;IACLe,SAAS,GAAAjD,wBAAA,CAAA+C,KAAA,EAAA5E,UAAA;EAEZ,OAAO,IAAAmE,oBAAa,EAClBL,EAAE,IAAI,KAAK,EAAAlD,aAAA,CAAAA,aAAA;IAETmE,GAAG,EAAExC;EAAU,GACXyB,SAAS,GAAAhD,eAAA,kBAAAoD,MAAA,CAAmBzB,IAAI,kBAAgBqB,SAAS,IAAK,CAAC,CAAC;IACpEa,SAAS,EAAE,CAACA,SAAS,aAATA,SAAS,cAATA,SAAS,GAAI,EAAE,EAAE,gBAAgB,CAAC,CAACG,IAAI,CAAC,GAAG;EAAC,GACrDF,SAAS,GAEdf,QACF,CAAC;AACH,CAAC","ignoreList":[]}