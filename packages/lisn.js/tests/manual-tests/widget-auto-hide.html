<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <script src="assets/js/lisn.ln.js" charset="utf-8"></script>
    <script src="assets/js/lisn-settings.js" charset="utf-8"></script>
    <link
      rel="stylesheet"
      href="assets/css/lisn.css"
      type="text/css"
      media="screen"
      charset="utf-8"
    />
    <style type="text/css" media="screen">
      .wrapper {
        padding: 10px;
        border: solid 1px grey;
        background: lightblue;
      }

      .wrapper-st {
        background: #88bb88;
      }

      .wrapper-1 {
        background: lightyellow;
      }

      .wrapper-rm {
        background: #ff9999;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <div id="testA" class="lisn-auto-hide">This will be hidden after 3s</div>
    </div>

    <div class="wrapper wrapper-1">
      <div id="testB" data-lisn-auto-hide="delay=1000">
        This will be hidden after 1s
      </div>
    </div>

    <div
      data-lisn-auto-hide="delay=1000 | selector=div:nth-child(1)>p ; selector=div:nth-child(2)>p"
      data-lisn-auto-remove="delay=1000 | selector=div:last-child>p"
    >
      <div class="wrapper wrapper-1">
        <p id="testC1">This will be hidden after 1s</p>
      </div>
      <div class="wrapper"><p id="testC2">This will be hidden after 3s</p></div>
      <div class="wrapper wrapper-st"><p>This will stay</p></div>
      <div class="wrapper wrapper-1 wrapper-rm">
        <p id="testC3">This will be removed after 1s</p>
      </div>
    </div>

    <div class="wrapper wrapper-rm">
      <div id="testD" data-lisn-auto-remove>This will be removed after 3s</div>
    </div>

    <p>
      Elements will be re-inserted and re-shown once after the initial
      hiding/removing. Wait for it.
    </p>

    <script charset="utf-8">
      const logger = new LISN.debug.Logger({ name: "test" });

      const testElemA = document.getElementById("testA");
      const testElemB = document.getElementById("testB");

      const testElemC1 = document.getElementById("testC1");
      const testElemC2 = document.getElementById("testC2");
      const testElemC3 = document.getElementById("testC3");

      const testElemD = document.getElementById("testD");

      const parentC3 = testElemC3.parentElement;
      const parentD = testElemD.parentElement;

      setTimeout(() => {
        logger.log("re-showing/adding elements");
        LISN.utils.showElement(testElemA);
        LISN.utils.showElement(testElemB);
        LISN.utils.showElement(testElemC1);
        LISN.utils.showElement(testElemC2);
        LISN.utils.showElement(testElemC3);
        LISN.utils.showElement(testElemD);

        parentC3.append(testElemC3);
        parentD.append(testElemD);
      }, 8000);
    </script>
  </body>
</html>
