{"version":3,"file":"auto-hide.cjs","names":["MC","_interopRequireWildcard","require","MH","_cssAlter","_domAlter","_domEvents","_validation","_domWatcher","_widget","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","Symbol","iterator","f","o","next","done","push","value","length","Array","isArray","_createForOfIteratorHelper","_n","F","s","_arrayLikeToArray","toString","slice","constructor","name","from","test","_defineProperty","_toPropertyKey","enumerable","configurable","writable","_classCallCheck","_defineProperties","key","_createClass","prototype","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","create","_setPrototypeOf","setPrototypeOf","bind","_superPropGet","p","_get","_superPropBase","arguments","getPrototypeOf","AutoHide","exports","_Widget","element","config","_this","selector","watcher","DOMWatcher","root","subtree","watcherOptions","categories","S_ADDED","S_ATTRIBUTE","S_SKIP_INITIAL","hideOrRemoveEl","remove","hideAndRemoveElement","hideElement","hideRelevant","isDisabled","targetElements","querySelectorAll","_iterator","_step","_config$delay","elem","delay","DEFAULT_DELAY","err","addWatcher","onMutation","removeWatcher","offMutation","waitForPageReady","then","isDestroyed","onDisable","onEnable","id","instance","isInstanceOf","register","_iterator2","WIDGET_NAME_HIDE","WIDGET_NAME_REMOVE","_step2","_step2$value","registerWidget","newConfigValidator","supportsMultiple","Widget","autoRemove","validateString","validateNumber"],"sources":["../../../src/ts/widgets/auto-hide.ts"],"sourcesContent":["/**\n * @module Widgets\n */\n\nimport * as MC from \"@lisn/globals/minification-constants\";\nimport * as MH from \"@lisn/globals/minification-helpers\";\n\nimport { hideElement } from \"@lisn/utils/css-alter\";\nimport { hideAndRemoveElement } from \"@lisn/utils/dom-alter\";\nimport { waitForPageReady } from \"@lisn/utils/dom-events\";\nimport { validateString, validateNumber } from \"@lisn/utils/validation\";\n\nimport { DOMWatcher, OnMutationOptions } from \"@lisn/watchers/dom-watcher\";\n\nimport {\n  Widget,\n  WidgetConfigValidatorObject,\n  registerWidget,\n} from \"@lisn/widgets/widget\";\n\n/**\n * Configures the given element as an {@link AutoHide} widget.\n *\n * The AutoHide widget automatically hides (and optionally removes) the given\n * element, or children of it that match a given selector, after a certain\n * delay.\n *\n * It executes these actions every time the matching element(s) have a change\n * of attribute or appear (are inserted) into the DOM.\n *\n * To use with auto-widgets (HTML API) (see\n * {@link Settings.settings.autoWidgets | settings.autoWidgets}), the following\n * CSS classes or data attributes are recognized:\n * - `lisn-auto-hide` class or `data-lisn-auto-hide` attribute\n * - `lisn-auto-remove` class or `data-lisn-auto-remove` attribute (enables\n *   {@link AutoHideConfig.remove})\n *\n * **NOTE:** This widget supports multiple instances per element, you can\n * specify multiple widget configurations, separated with \";\".\n *\n * See below examples for what values you can use set for the data attributes\n * in order to modify the configuration of the automatically created widget.\n *\n * @example\n * This will automatically hide (with class `lisn-hide`) the element 3 seconds\n * (default delay) after it is inserted into the DOM or after it gets any\n * attributes changed on it (for example that might show it again).\n *\n * ```html\n * <div class=\"lisn-auto-hide\">\n *   Automatically hidden in 3s.\n * </div>\n * ```\n *\n * @example\n * This will automatically hide and then remove the element 3 seconds (default\n * delay) after it is inserted into the DOM.\n *\n * ```html\n * <div class=\"lisn-auto-remove\">\n *   Automatically hidden and removed in 3s.\n * </div>\n * ```\n *\n * @example\n * This will automatically\n * - hide `p` elements with class `message` 2 seconds after they are inserted\n *   or changed\n * - hide `p` elements with class `warning` 5 seconds after they are inserted\n *   or changed; and it will save that particular {@link AutoHide} widget with\n *   ID `myID` so that it can be looked up using {@link AutoHide.get}\n * - remove `p` elements with class `disposable` 3 seconds (default delay)\n *   after they are inserted or changed\n *\n * ```html\n * <div data-lisn-auto-hide=\"selector=p.message delay=2000 ;\n *                           selector=p.warning delay=5000 id=myID\"\n *      data-lisn-auto-remove=\"selector=p.disposable\">\n *   <p>Some text, this will stay.</p>\n *   <p class=\"message\">\n *     Automatically hidden in 2s.\n *   </p>\n *   <p class=\"warning\">\n *     Automatically hidden in 5s.\n *   </p>\n *   <p class=\"disposable\">\n *     Automatically hidden and removed in 3s.\n *   </p>\n * </div>\n * ```\n */\nexport class AutoHide extends Widget {\n  static get(element: Element, id: string): AutoHide | null {\n    const instance = super.get(element, id);\n    if (MH.isInstanceOf(instance, AutoHide)) {\n      return instance;\n    }\n    return null;\n  }\n\n  static register() {\n    for (const [name, remove] of [\n      [WIDGET_NAME_HIDE, false],\n      [WIDGET_NAME_REMOVE, true],\n    ] as const) {\n      registerWidget(\n        name,\n        (element, config) => {\n          return new AutoHide(element, config);\n        },\n        newConfigValidator(remove),\n        { supportsMultiple: true },\n      );\n    }\n  }\n\n  constructor(element: Element, config?: AutoHideConfig) {\n    super(element, config);\n\n    const selector = config?.selector;\n\n    const watcher = DOMWatcher.create({\n      root: element,\n      subtree: selector ? true : false,\n    });\n\n    // Watch for attribute change on this element, and for relevant children\n    // being added/changed\n    const watcherOptions: OnMutationOptions = selector\n      ? {\n          selector: selector,\n          categories: [MC.S_ADDED, MC.S_ATTRIBUTE],\n          [MC.S_SKIP_INITIAL]: true,\n        }\n      : {\n          categories: [MC.S_ATTRIBUTE],\n          [MC.S_SKIP_INITIAL]: true,\n        };\n\n    const hideOrRemoveEl = config?.remove ? hideAndRemoveElement : hideElement;\n\n    const hideRelevant = () => {\n      if (this.isDisabled()) {\n        return;\n      }\n\n      const targetElements = selector\n        ? MH.querySelectorAll(element, selector)\n        : [element];\n\n      for (const elem of targetElements) {\n        hideOrRemoveEl(elem, config?.delay ?? DEFAULT_DELAY);\n      }\n    };\n\n    const addWatcher = () => watcher.onMutation(hideRelevant, watcherOptions);\n\n    const removeWatcher = () => watcher.offMutation(hideRelevant);\n\n    // ------------------------------\n\n    // Don't hide/remove before the page is loaded\n    waitForPageReady().then(() => {\n      // Hide initially\n      if (this.isDestroyed()) {\n        return;\n      }\n\n      hideRelevant();\n      addWatcher();\n    });\n\n    this.onDisable(removeWatcher);\n    this.onEnable(() => {\n      hideRelevant();\n      addWatcher();\n    });\n  }\n}\n\n/**\n * @interface\n */\nexport type AutoHideConfig = {\n  /**\n   * An ID for the widget so that it can be looked up by element and ID using\n   * {@link AutoHide.get}. It has to be unique for each element, but you can\n   * use the same ID on different elements.\n   *\n   * @defaultValue undefined\n   */\n  id?: string;\n\n  /**\n   * If true, the matched elements are removed from the DOM instead of just\n   * hidden.\n   *\n   * @defaultValue false\n   */\n  remove?: boolean;\n\n  /**\n   * If given, then the elements to be hidden/removed are selected using the\n   * given `selector` starting at the container element. If not given, then\n   * the container element itself is the target to be hidden/removed.\n   *\n   * E.g. if `selector` is `p.message`, then any newly added/changed `<p>`\n   * elements with class `message` nested under the container element will be\n   * auto-hidden/removed.\n   *\n   * @defaultValue undefined\n   */\n  selector?: string;\n\n  /**\n   * How long to wait before hiding or removing the matched elements.\n   *\n   * @defaultValue 3000\n   */\n  delay?: number;\n};\n\n// ------------------------------\n\nconst WIDGET_NAME_HIDE = \"auto-hide\";\nconst WIDGET_NAME_REMOVE = \"auto-remove\";\n\nconst DEFAULT_DELAY = 3000;\n\nconst newConfigValidator = (\n  autoRemove: boolean,\n): WidgetConfigValidatorObject<AutoHideConfig> => {\n  return {\n    id: validateString,\n    remove: () => autoRemove,\n    selector: validateString,\n    delay: validateNumber,\n  };\n};\n"],"mappings":"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","ignoreList":[]}