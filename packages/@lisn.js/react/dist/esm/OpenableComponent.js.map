{"version":3,"file":"OpenableComponent.js","names":["_typeof","o","Symbol","iterator","constructor","prototype","_excluded","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","n","indexOf","propertyIsEnumerable","hasOwnProperty","useEffect","createElement","Collapsible","Popup","Modal","Offcanvas","useWidget","getElementsFromRefs","CollapsibleComponent","_ref","config","widgetRef","props","elementRef","useOpenable","newCollapsible","createOpenableElement","name","element","HTMLElement","assign","triggers","PopupComponent","_ref2","newPopup","ModalComponent","_ref3","newModal","OffcanvasComponent","_ref4","newOffcanvas","CollapsibleTriggerComponent","allProps","TriggerComponent","PopupTriggerComponent","ModalTriggerComponent","OffcanvasTriggerComponent","_ref5","as","children","contentId","configStr","prop","concat","newWidget","current","Element","classList","remove","_ref7","className","baseProps","ref","join"],"sources":["../../src/OpenableComponent.tsx"],"sourcesContent":["\"use client\";\nimport {\n  useEffect,\n  createElement,\n  ElementType,\n  RefObject,\n  ComponentRef,\n  ComponentPropsWithoutRef,\n} from \"react\";\n\nimport {\n  Collapsible,\n  CollapsibleConfig,\n  Popup,\n  PopupConfig,\n  Modal,\n  ModalConfig,\n  Offcanvas,\n  OffcanvasConfig,\n  OpenableTriggerConfig,\n  Openable,\n} from \"lisn.js\";\n\nimport { useWidget } from \"./useWidget\";\nimport { getElementsFromRefs } from \"./util\";\nimport {\n  WidgetComponentRef,\n  WidgetComponentProps,\n  GenericComponentProps,\n} from \"./types\";\n\nexport type CollapsibleComponentRef = WidgetComponentRef<Collapsible>;\n\nexport type CollapsibleComponentConfig = Omit<CollapsibleConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type CollapsibleComponentProps<T extends ElementType> =\n  WidgetComponentProps<T, Collapsible, CollapsibleComponentConfig> & {\n    contentId?: string;\n  };\n\nexport const CollapsibleComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: CollapsibleComponentProps<T>) => {\n  const elementRef = useOpenable<T, Collapsible, CollapsibleComponentConfig>(\n    newCollapsible,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"collapsible\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newCollapsible = (\n  element: Element,\n  config?: CollapsibleComponentConfig,\n) =>\n  element instanceof HTMLElement\n    ? new Collapsible(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type PopupComponentRef = WidgetComponentRef<Popup>;\n\nexport type PopupComponentConfig = Omit<PopupConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type PopupComponentProps<T extends ElementType> = WidgetComponentProps<\n  T,\n  Popup,\n  PopupComponentConfig\n> & { contentId?: string };\n\nexport const PopupComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: PopupComponentProps<T>) => {\n  const elementRef = useOpenable<T, Popup, PopupComponentConfig>(\n    newPopup,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"popup\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newPopup = (element: Element, config?: PopupComponentConfig) =>\n  element instanceof HTMLElement\n    ? new Popup(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type ModalComponentRef = WidgetComponentRef<Modal>;\n\nexport type ModalComponentConfig = Omit<ModalConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type ModalComponentProps<T extends ElementType> = WidgetComponentProps<\n  T,\n  Modal,\n  ModalComponentConfig\n> & { contentId?: string };\n\nexport const ModalComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: ModalComponentProps<T>) => {\n  const elementRef = useOpenable<T, Modal, ModalComponentConfig>(\n    newModal,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"modal\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newModal = (element: Element, config?: ModalComponentConfig) =>\n  element instanceof HTMLElement\n    ? new Modal(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type OffcanvasComponentRef = WidgetComponentRef<Offcanvas>;\n\nexport type OffcanvasComponentConfig = Omit<OffcanvasConfig, \"triggers\"> & {\n  triggers?: RefObject<Element | null>[];\n};\n\nexport type OffcanvasComponentProps<T extends ElementType> =\n  WidgetComponentProps<T, Offcanvas, OffcanvasComponentConfig> & {\n    contentId?: string;\n  };\n\nexport const OffcanvasComponent = <T extends ElementType = \"div\">({\n  config,\n  widgetRef,\n  ...props\n}: OffcanvasComponentProps<T>) => {\n  const elementRef = useOpenable<T, Offcanvas, OffcanvasComponentConfig>(\n    newOffcanvas,\n    config,\n    widgetRef,\n  );\n\n  return createOpenableElement<T>({\n    name: \"offcanvas\",\n    elementRef,\n    ...props,\n  } as OpenableProps<T>);\n};\n\nconst newOffcanvas = (element: Element, config?: OffcanvasComponentConfig) =>\n  element instanceof HTMLElement\n    ? new Offcanvas(\n        element,\n        Object.assign({}, config, {\n          triggers: getElementsFromRefs(config?.triggers),\n        }),\n      )\n    : null;\n\n// ----------\n\nexport type OpenableTriggerComponentConfig = OpenableTriggerConfig;\n\nexport type OpenableTriggerComponentProps<T extends ElementType> =\n  GenericComponentProps<T> & {\n    as?: T;\n    config?: OpenableTriggerComponentConfig;\n    contentId?: string;\n  };\n\nexport const CollapsibleTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"collapsible\",\n    ...allProps,\n  });\n\nexport const PopupTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"popup\",\n    ...allProps,\n  });\n\nexport const ModalTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"modal\",\n    ...allProps,\n  });\n\nexport const OffcanvasTriggerComponent = <T extends ElementType = \"div\">(\n  allProps: OpenableTriggerComponentProps<T>,\n) =>\n  TriggerComponent({\n    name: \"offcanvas\",\n    ...allProps,\n  });\n\nconst TriggerComponent = <T extends ElementType = \"div\">({\n  name,\n  as,\n  children,\n  config,\n  contentId,\n  ...props\n}: OpenableTriggerComponentProps<T> & { name: string }) => {\n  // Since a trigger config object can only be passed as part of the widget\n  // configuration (in a trigger map) and that is created in another component,\n  // we have to use data attributes to pass the config.\n  let configStr = \"\";\n  let prop: keyof OpenableTriggerConfig;\n  config = config || {};\n  for (prop in config) {\n    configStr += (configStr ? \"|\" : \"\") + prop + \"=\" + String(config[prop]);\n  }\n\n  return createElement(\n    as || \"div\",\n    {\n      [`data-lisn-${name}-trigger`]: configStr,\n      ...(contentId ? { [`data-lisn-${name}-content-id`]: contentId } : {}),\n      ...props,\n    },\n    children,\n  );\n};\n\n// --------------------\n\nconst useOpenable = <\n  T extends ElementType,\n  W extends Openable,\n  C extends object,\n>(\n  newWidget: (element: Element, config?: C) => W | null,\n  config?: C,\n  widgetRef?: RefObject<WidgetComponentRef<W>>,\n) => {\n  const elementRef = useWidget<T, W, C>(newWidget, config, widgetRef);\n\n  useEffect(() => {\n    const element = elementRef.current;\n    if (element instanceof Element) {\n      element.classList.remove(\"lisn-undisplay\");\n    }\n  }, [elementRef]);\n\n  return elementRef;\n};\n\ntype OpenableProps<T extends ElementType> = {\n  name: string;\n  elementRef: RefObject<ComponentRef<T> | null>;\n  as?: T;\n  contentId?: string;\n} & ComponentPropsWithoutRef<T>;\n\nconst createOpenableElement = <T extends ElementType = \"div\">({\n  name,\n  as,\n  contentId,\n  elementRef,\n  className,\n  children,\n  ...baseProps\n}: OpenableProps<T>) => {\n  return createElement(\n    as || \"div\",\n    {\n      ref: elementRef,\n      ...(contentId ? { [`data-lisn-${name}-content-id`]: contentId } : {}),\n      className: [className ?? \"\", \"lisn-undisplay\"].join(\" \"),\n      ...baseProps,\n    },\n    children,\n  );\n};\n"],"mappings":"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","ignoreList":[]}